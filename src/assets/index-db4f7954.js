(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();function C(){}function Oe(i){return i()}function Pe(){return Object.create(null)}function J(i){i.forEach(Oe)}function Ye(i){return typeof i=="function"}function ie(i,t){return i!=i?t==t:i!==t||i&&typeof i=="object"||typeof i=="function"}let be;function fe(i,t){return be||(be=document.createElement("a")),be.href=t,i===be.href}function je(i){return Object.keys(i).length===0}function y(i,t){i.appendChild(t)}function M(i,t,o){i.insertBefore(t,o||null)}function L(i){i.parentNode&&i.parentNode.removeChild(i)}function b(i){return document.createElement(i)}function Xe(i){return document.createTextNode(i)}function S(){return Xe(" ")}function H(i,t,o,l){return i.addEventListener(t,o,l),()=>i.removeEventListener(t,o,l)}function g(i,t,o){o==null?i.removeAttribute(t):i.getAttribute(t)!==o&&i.setAttribute(t,o)}function et(i){return Array.from(i.childNodes)}function tt(i,t){t=""+t,i.wholeText!==t&&(i.data=t)}function se(i,t,o,l){o===null?i.style.removeProperty(t):i.style.setProperty(t,o,l?"important":"")}function nt(i,t,{bubbles:o=!1,cancelable:l=!1}={}){const a=document.createEvent("CustomEvent");return a.initCustomEvent(i,o,l,t),a}let he;function _e(i){he=i}function Je(){if(!he)throw new Error("Function called outside component initialization");return he}function ot(i){Je().$$.on_mount.push(i)}function Ee(){const i=Je();return(t,o,{cancelable:l=!1}={})=>{const a=i.$$.callbacks[t];if(a){const s=nt(t,o,{cancelable:l});return a.slice().forEach(c=>{c.call(i,s)}),!s.defaultPrevented}return!0}}const le=[],Ne=[],Be=[],Ge=[],rt=Promise.resolve();let De=!1;function at(){De||(De=!0,rt.then(Ze))}function Fe(i){Be.push(i)}const Ce=new Set;let ae=0;function Ze(){if(ae!==0)return;const i=he;do{try{for(;ae<le.length;){const t=le[ae];ae++,_e(t),lt(t.$$)}}catch(t){throw le.length=0,ae=0,t}for(_e(null),le.length=0,ae=0;Ne.length;)Ne.pop()();for(let t=0;t<Be.length;t+=1){const o=Be[t];Ce.has(o)||(Ce.add(o),o())}Be.length=0}while(le.length);for(;Ge.length;)Ge.pop()();De=!1,Ce.clear(),_e(i)}function lt(i){if(i.fragment!==null){i.update(),J(i.before_update);const t=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,t),i.after_update.forEach(Fe)}}const Te=new Set;let oe;function Ie(){oe={r:0,c:[],p:oe}}function we(){oe.r||J(oe.c),oe=oe.p}function N(i,t){i&&i.i&&(Te.delete(i),i.i(t))}function Y(i,t,o,l){if(i&&i.o){if(Te.has(i))return;Te.add(i),oe.c.push(()=>{Te.delete(i),l&&(o&&i.d(1),l())}),i.o(t)}else l&&l()}function ge(i){i&&i.c()}function ue(i,t,o,l){const{fragment:a,after_update:s}=i.$$;a&&a.m(t,o),l||Fe(()=>{const c=i.$$.on_mount.map(Oe).filter(Ye);i.$$.on_destroy?i.$$.on_destroy.push(...c):J(c),i.$$.on_mount=[]}),s.forEach(Fe)}function ce(i,t){const o=i.$$;o.fragment!==null&&(J(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function st(i,t){i.$$.dirty[0]===-1&&(le.push(i),at(),i.$$.dirty.fill(0)),i.$$.dirty[t/31|0]|=1<<t%31}function de(i,t,o,l,a,s,c,m=[-1]){const A=he;_e(i);const h=i.$$={fragment:null,ctx:[],props:s,update:C,not_equal:a,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(A?A.$$.context:[])),callbacks:Pe(),dirty:m,skip_bound:!1,root:t.target||A.$$.root};c&&c(h.root);let e=!1;if(h.ctx=o?o(i,t.props||{},(n,r,...u)=>{const d=u.length?u[0]:r;return h.ctx&&a(h.ctx[n],h.ctx[n]=d)&&(!h.skip_bound&&h.bound[n]&&h.bound[n](d),e&&st(i,n)),r}):[],h.update(),e=!0,J(h.before_update),h.fragment=l?l(h.ctx):!1,t.target){if(t.hydrate){const n=et(t.target);h.fragment&&h.fragment.l(n),n.forEach(L)}else h.fragment&&h.fragment.c();t.intro&&N(i.$$.fragment),ue(i,t.target,t.anchor,t.customElement),Ze()}_e(A)}class me{$destroy(){ce(this,1),this.$destroy=C}$on(t,o){if(!Ye(o))return C;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(o),()=>{const a=l.indexOf(o);a!==-1&&l.splice(a,1)}}$set(t){this.$$set&&!je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}let ke;const it=new Uint8Array(16);function ut(){if(!ke&&(ke=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ke))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ke(it)}var ct=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function dt(i){return typeof i=="string"&&ct.test(i)}const P=[];for(let i=0;i<256;++i)P.push((i+256).toString(16).slice(1));function ze(i,t=0){return(P[i[t+0]]+P[i[t+1]]+P[i[t+2]]+P[i[t+3]]+"-"+P[i[t+4]]+P[i[t+5]]+"-"+P[i[t+6]]+P[i[t+7]]+"-"+P[i[t+8]]+P[i[t+9]]+"-"+P[i[t+10]]+P[i[t+11]]+P[i[t+12]]+P[i[t+13]]+P[i[t+14]]+P[i[t+15]]).toLowerCase()}function mt(i){if(!dt(i))throw TypeError("Invalid UUID");let t;const o=new Uint8Array(16);return o[0]=(t=parseInt(i.slice(0,8),16))>>>24,o[1]=t>>>16&255,o[2]=t>>>8&255,o[3]=255&t,o[4]=(t=parseInt(i.slice(9,13),16))>>>8,o[5]=255&t,o[6]=(t=parseInt(i.slice(14,18),16))>>>8,o[7]=255&t,o[8]=(t=parseInt(i.slice(19,23),16))>>>8,o[9]=255&t,o[10]=(t=parseInt(i.slice(24,36),16))/1099511627776&255,o[11]=t/4294967296&255,o[12]=t>>>24&255,o[13]=t>>>16&255,o[14]=t>>>8&255,o[15]=255&t,o}function Ke(i,t,o){function l(a,s,c,m){var A;if(typeof a=="string"&&(a=function(e){e=unescape(encodeURIComponent(e));const n=[];for(let r=0;r<e.length;++r)n.push(e.charCodeAt(r));return n}(a)),typeof s=="string"&&(s=mt(s)),((A=s)===null||A===void 0?void 0:A.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+a.length);if(h.set(s),h.set(a,s.length),h=o(h),h[6]=15&h[6]|t,h[8]=63&h[8]|128,c){m=m||0;for(let e=0;e<16;++e)c[m+e]=h[e];return c}return ze(h)}try{l.name=i}catch{}return l.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",l.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",l}function Ve(i){return 14+(i+64>>>9<<4)+1}function te(i,t){const o=(65535&i)+(65535&t);return(i>>16)+(t>>16)+(o>>16)<<16|65535&o}function Le(i,t,o,l,a,s){return te((c=te(te(t,i),te(l,s)))<<(m=a)|c>>>32-m,o);var c,m}function G(i,t,o,l,a,s,c){return Le(t&o|~t&l,i,t,a,s,c)}function V(i,t,o,l,a,s,c){return Le(t&l|o&~l,i,t,a,s,c)}function U(i,t,o,l,a,s,c){return Le(t^o^l,i,t,a,s,c)}function R(i,t,o,l,a,s,c){return Le(o^(t|~l),i,t,a,s,c)}Ke("v3",48,function(i){if(typeof i=="string"){const t=unescape(encodeURIComponent(i));i=new Uint8Array(t.length);for(let o=0;o<t.length;++o)i[o]=t.charCodeAt(o)}return function(t){const o=[],l=32*t.length,a="0123456789abcdef";for(let s=0;s<l;s+=8){const c=t[s>>5]>>>s%32&255,m=parseInt(a.charAt(c>>>4&15)+a.charAt(15&c),16);o.push(m)}return o}(function(t,o){t[o>>5]|=128<<o%32,t[Ve(o)-1]=o;let l=1732584193,a=-271733879,s=-1732584194,c=271733878;for(let m=0;m<t.length;m+=16){const A=l,h=a,e=s,n=c;l=G(l,a,s,c,t[m],7,-680876936),c=G(c,l,a,s,t[m+1],12,-389564586),s=G(s,c,l,a,t[m+2],17,606105819),a=G(a,s,c,l,t[m+3],22,-1044525330),l=G(l,a,s,c,t[m+4],7,-176418897),c=G(c,l,a,s,t[m+5],12,1200080426),s=G(s,c,l,a,t[m+6],17,-1473231341),a=G(a,s,c,l,t[m+7],22,-45705983),l=G(l,a,s,c,t[m+8],7,1770035416),c=G(c,l,a,s,t[m+9],12,-1958414417),s=G(s,c,l,a,t[m+10],17,-42063),a=G(a,s,c,l,t[m+11],22,-1990404162),l=G(l,a,s,c,t[m+12],7,1804603682),c=G(c,l,a,s,t[m+13],12,-40341101),s=G(s,c,l,a,t[m+14],17,-1502002290),a=G(a,s,c,l,t[m+15],22,1236535329),l=V(l,a,s,c,t[m+1],5,-165796510),c=V(c,l,a,s,t[m+6],9,-1069501632),s=V(s,c,l,a,t[m+11],14,643717713),a=V(a,s,c,l,t[m],20,-373897302),l=V(l,a,s,c,t[m+5],5,-701558691),c=V(c,l,a,s,t[m+10],9,38016083),s=V(s,c,l,a,t[m+15],14,-660478335),a=V(a,s,c,l,t[m+4],20,-405537848),l=V(l,a,s,c,t[m+9],5,568446438),c=V(c,l,a,s,t[m+14],9,-1019803690),s=V(s,c,l,a,t[m+3],14,-187363961),a=V(a,s,c,l,t[m+8],20,1163531501),l=V(l,a,s,c,t[m+13],5,-1444681467),c=V(c,l,a,s,t[m+2],9,-51403784),s=V(s,c,l,a,t[m+7],14,1735328473),a=V(a,s,c,l,t[m+12],20,-1926607734),l=U(l,a,s,c,t[m+5],4,-378558),c=U(c,l,a,s,t[m+8],11,-2022574463),s=U(s,c,l,a,t[m+11],16,1839030562),a=U(a,s,c,l,t[m+14],23,-35309556),l=U(l,a,s,c,t[m+1],4,-1530992060),c=U(c,l,a,s,t[m+4],11,1272893353),s=U(s,c,l,a,t[m+7],16,-155497632),a=U(a,s,c,l,t[m+10],23,-1094730640),l=U(l,a,s,c,t[m+13],4,681279174),c=U(c,l,a,s,t[m],11,-358537222),s=U(s,c,l,a,t[m+3],16,-722521979),a=U(a,s,c,l,t[m+6],23,76029189),l=U(l,a,s,c,t[m+9],4,-640364487),c=U(c,l,a,s,t[m+12],11,-421815835),s=U(s,c,l,a,t[m+15],16,530742520),a=U(a,s,c,l,t[m+2],23,-995338651),l=R(l,a,s,c,t[m],6,-198630844),c=R(c,l,a,s,t[m+7],10,1126891415),s=R(s,c,l,a,t[m+14],15,-1416354905),a=R(a,s,c,l,t[m+5],21,-57434055),l=R(l,a,s,c,t[m+12],6,1700485571),c=R(c,l,a,s,t[m+3],10,-1894986606),s=R(s,c,l,a,t[m+10],15,-1051523),a=R(a,s,c,l,t[m+1],21,-2054922799),l=R(l,a,s,c,t[m+8],6,1873313359),c=R(c,l,a,s,t[m+15],10,-30611744),s=R(s,c,l,a,t[m+6],15,-1560198380),a=R(a,s,c,l,t[m+13],21,1309151649),l=R(l,a,s,c,t[m+4],6,-145523070),c=R(c,l,a,s,t[m+11],10,-1120210379),s=R(s,c,l,a,t[m+2],15,718787259),a=R(a,s,c,l,t[m+9],21,-343485551),l=te(l,A),a=te(a,h),s=te(s,e),c=te(c,n)}return[l,a,s,c]}(function(t){if(t.length===0)return[];const o=8*t.length,l=new Uint32Array(Ve(o));for(let a=0;a<o;a+=8)l[a>>5]|=(255&t[a/8])<<a%32;return l}(i),8*i.length))});var Ue={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function At(i,t,o){if(Ue.randomUUID&&!t&&!i)return Ue.randomUUID();const l=(i=i||{}).random||(i.rng||ut)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){o=o||0;for(let a=0;a<16;++a)t[o+a]=l[a];return t}return ze(l)}function pt(i,t,o,l){switch(i){case 0:return t&o^~t&l;case 1:case 3:return t^o^l;case 2:return t&o^t&l^o&l}}function He(i,t){return i<<t|i>>>32-t}Ke("v5",80,function(i){const t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const c=unescape(encodeURIComponent(i));i=[];for(let m=0;m<c.length;++m)i.push(c.charCodeAt(m))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const l=i.length/4+2,a=Math.ceil(l/16),s=new Array(a);for(let c=0;c<a;++c){const m=new Uint32Array(16);for(let A=0;A<16;++A)m[A]=i[64*c+4*A]<<24|i[64*c+4*A+1]<<16|i[64*c+4*A+2]<<8|i[64*c+4*A+3];s[c]=m}s[a-1][14]=8*(i.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(i.length-1)&4294967295;for(let c=0;c<a;++c){const m=new Uint32Array(80);for(let u=0;u<16;++u)m[u]=s[c][u];for(let u=16;u<80;++u)m[u]=He(m[u-3]^m[u-8]^m[u-14]^m[u-16],1);let A=o[0],h=o[1],e=o[2],n=o[3],r=o[4];for(let u=0;u<80;++u){const d=Math.floor(u/20),f=He(A,5)+pt(d,h,e,n)+r+t[d]+m[u]>>>0;r=n,n=e,e=He(h,30)>>>0,h=A,A=f}o[0]=o[0]+A>>>0,o[1]=o[1]+h>>>0,o[2]=o[2]+e>>>0,o[3]=o[3]+n>>>0,o[4]=o[4]+r>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]});function ft(i){let t,o,l,a,s,c,m,A,h,e,n,r,u,d,f,_;return{c(){t=b("link"),o=S(),l=b("div"),a=b("div"),s=b("form"),c=b("input"),m=S(),A=b("p"),h=S(),e=b("input"),n=S(),r=b("button"),r.innerHTML='<span class="material-symbols-outlined svelte-11777yw">cancel</span>',u=S(),d=b("button"),d.innerHTML='<span class="material-symbols-outlined svelte-11777yw">arrow_forward_ios</span>',g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-11777yw"),g(c,"type","text"),g(c,"name","displayName"),g(c,"placeholder","Display Name"),g(c,"class","svelte-11777yw"),g(A,"id","err"),g(A,"class","svelte-11777yw"),g(e,"class","genId svelte-11777yw"),e.disabled=!0,g(e,"type","text"),g(e,"name","genId"),g(e,"placeholder","Generated Id"),g(r,"type","button"),g(r,"class","svelte-11777yw"),g(d,"type","submit"),g(d,"class","svelte-11777yw"),g(s,"class","svelte-11777yw"),g(a,"class","child svelte-11777yw"),g(l,"class","parent svelte-11777yw")},m(v,I){M(v,t,I),M(v,o,I),M(v,l,I),y(l,a),y(a,s),y(s,c),y(s,m),y(s,A),y(s,h),y(s,e),y(s,n),y(s,r),y(s,u),y(s,d),f||(_=[H(c,"input",i[1]),H(r,"click",i[2]),H(s,"submit",i[3])],f=!0)},p:C,i:C,o:C,d(v){v&&L(t),v&&L(o),v&&L(l),f=!1,J(_)}}}function _t(i){Ee();const t=()=>{o()?(localStorage.setItem("displayName",document.querySelector('input[name="displayName"]').value),localStorage.setItem("generatedId",document.querySelector('input[name="genId"]').value),window.location.reload()):anime({targets:'input[name="displayName"]',keyframes:[{translateX:20},{translateX:-20},{translateX:20},{translateX:-20},{translateX:0}],easing:"easeInOutSine",duration:500,loop:1})},o=()=>{const s=document.querySelector('input[name="displayName"]').value;return s.length<3?(document.getElementById("err").innerHTML="Must be more than 3 characters",!1):s.length>20?(document.getElementById("err").innerHTML="Must be less than 20 characters",!1):s.match(/[^a-zA-Z0-9_]/g)?(document.getElementById("err").innerHTML="Only letters, numbers and underscores",!1):(document.getElementById("err").innerHTML="",document.querySelector('input[name="genId"]').value=At(),!0)};return[t,o,()=>{window.close()},s=>{s.preventDefault(),t()}]}class ht extends me{constructor(t){super(),de(this,t,_t,ft,ie,{})}}const gt="data:image/webp;base64,UklGRlADAABXRUJQVlA4WAoAAAAwAAAAEwAAMwAASUNDUKACAAAAAAKgbGNtcwQwAABtbnRyUkdCIFhZWiAH5wAEAB0ACwA4AC1hY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1kZXNjAAABIAAAAEBjcHJ0AAABYAAAADZ3dHB0AAABmAAAABRjaGFkAAABrAAAACxyWFlaAAAB2AAAABRiWFlaAAAB7AAAABRnWFlaAAACAAAAABRyVFJDAAACFAAAACBnVFJDAAACFAAAACBiVFJDAAACFAAAACBjaHJtAAACNAAAACRkbW5kAAACWAAAACRkbWRkAAACfAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACQAAAAcAEcASQBNAFAAIABiAHUAaQBsAHQALQBpAG4AIABzAFIARwBCbWx1YwAAAAAAAAABAAAADGVuVVMAAAAaAAAAHABQAHUAYgBsAGkAYwAgAEQAbwBtAGEAaQBuAABYWVogAAAAAAAA9tYAAQAAAADTLXNmMzIAAAAAAAEMQgAABd7///MlAAAHkwAA/ZD///uh///9ogAAA9wAAMBuWFlaIAAAAAAAAG+gAAA49QAAA5BYWVogAAAAAAAAJJ8AAA+EAAC2xFhZWiAAAAAAAABilwAAt4cAABjZcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltjaHJtAAAAAAADAAAAAKPXAABUfAAATM0AAJmaAAAmZwAAD1xtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAEcASQBNAFBtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJBTFBIIQAAAAEPMP8REYJM2qYO5t/lHOwrkxDR/4BY73E2NqwxdjcvBgBWUDggYAAAAHADAJ0BKhQANAAAwBIlpAA2Pw3FGTUHUdFx2kqFQSxpm6EuQAD+//5P2DFmd9x0MHylZ/myL/9dB8f/Wr/M72l//n/imX+H2/6/3f/E/3zvh2AyGhw/yl+f7rTMPIAAAA==",vt="data:image/webp;base64,UklGRmADAABXRUJQVlA4WAoAAAAwAAAAEwAAMwAASUNDUKACAAAAAAKgbGNtcwQwAABtbnRyUkdCIFhZWiAH5wAEAB0ACwA4AC1hY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1kZXNjAAABIAAAAEBjcHJ0AAABYAAAADZ3dHB0AAABmAAAABRjaGFkAAABrAAAACxyWFlaAAAB2AAAABRiWFlaAAAB7AAAABRnWFlaAAACAAAAABRyVFJDAAACFAAAACBnVFJDAAACFAAAACBiVFJDAAACFAAAACBjaHJtAAACNAAAACRkbW5kAAACWAAAACRkbWRkAAACfAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACQAAAAcAEcASQBNAFAAIABiAHUAaQBsAHQALQBpAG4AIABzAFIARwBCbWx1YwAAAAAAAAABAAAADGVuVVMAAAAaAAAAHABQAHUAYgBsAGkAYwAgAEQAbwBtAGEAaQBuAABYWVogAAAAAAAA9tYAAQAAAADTLXNmMzIAAAAAAAEMQgAABd7///MlAAAHkwAA/ZD///uh///9ogAAA9wAAMBuWFlaIAAAAAAAAG+gAAA49QAAA5BYWVogAAAAAAAAJJ8AAA+EAAC2xFhZWiAAAAAAAABilwAAt4cAABjZcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltjaHJtAAAAAAADAAAAAKPXAABUfAAATM0AAJmaAAAmZwAAD1xtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAEcASQBNAFBtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJBTFBIIQAAAAEPMP8REYJM2qYO6t/lHOwbkxDR/xBG7/jSGVcZ8S2vEwBWUDggcAAAAJAEAJ0BKhQANAA+KQ6FQqGHfAYAoS0gYwA0AL8A/GbmAA2Pw95el72L88zXgAD+/XD/9Mb/8OJlqK34MHwLabX8Osq/MRF23+8b+yIJ12GJhCX//6Q//8qPSn/3nu7/h/zc44a+5/u1l27f9G0AAAA=";function yt(i){let t,o,l,a,s,c,m,A,h,e,n,r,u,d,f,_,v,I,k,x,E,X,$,T,D,Q,Z,W,F,ee=i[1][i[0]].desc+"",re,Ae,z,ve,K,ye,Me;return{c(){t=b("link"),o=S(),l=b("div"),a=b("div"),s=b("div"),c=b("h1"),c.textContent=`${localStorage.getItem("displayName")}`,m=S(),A=b("img"),e=S(),n=b("div"),n.innerHTML='<div class="sky svelte-1t9poav"></div>',r=S(),u=b("div"),d=S(),f=b("div"),_=b("form"),v=b("div"),I=b("div"),k=b("button"),x=b("img"),X=S(),$=b("h1"),$.textContent="Avatar Select",T=S(),D=b("button"),Q=b("img"),W=S(),F=b("p"),re=Xe(ee),Ae=S(),z=b("button"),z.innerHTML='<span class="material-symbols-outlined svelte-1t9poav">arrow_forward_ios</span>',ve=S(),K=b("button"),K.innerHTML='<span class="material-symbols-outlined svelte-1t9poav">arrow_forward_ios</span>',g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-1t9poav"),g(c,"class","displayName svelte-1t9poav"),g(A,"id","playerImage"),fe(A.src,h="https://cdn.astraeffect.com/avatars/"+i[1][i[0]].name+"/forwards.png")||g(A,"src",h),g(A,"alt","playerImage"),g(A,"class","svelte-1t9poav"),g(s,"class","playerContainer svelte-1t9poav"),g(n,"class","background svelte-1t9poav"),g(u,"class","ground svelte-1t9poav"),g(a,"class","child svelte-1t9poav"),fe(x.src,E=gt)||g(x,"src",E),g(x,"alt","left arrow"),g(x,"class","svelte-1t9poav"),g(k,"type","button"),g(k,"class","previousAvatar avatarControlButton svelte-1t9poav"),g($,"class","svelte-1t9poav"),fe(Q.src,Z=vt)||g(Q,"src",Z),g(Q,"alt","right arrow"),g(Q,"class","svelte-1t9poav"),g(D,"type","button"),g(D,"class","nextAvatar avatarControlButton svelte-1t9poav"),g(I,"class","avatarSwapperParent svelte-1t9poav"),g(F,"class","avatarDesc svelte-1t9poav"),g(v,"class","avatarSelectParent svelte-1t9poav"),g(z,"type","submit"),g(z,"class","forward svelte-1t9poav"),g(K,"type","button"),g(K,"class","back svelte-1t9poav"),g(_,"class","svelte-1t9poav"),g(f,"class","child solidBack svelte-1t9poav"),g(l,"class","parent svelte-1t9poav")},m(O,ne){M(O,t,ne),M(O,o,ne),M(O,l,ne),y(l,a),y(a,s),y(s,c),y(s,m),y(s,A),y(a,e),y(a,n),y(a,r),y(a,u),y(l,d),y(l,f),y(f,_),y(_,v),y(v,I),y(I,k),y(k,x),y(I,X),y(I,$),y(I,T),y(I,D),y(D,Q),y(v,W),y(v,F),y(F,re),y(_,Ae),y(_,z),y(_,ve),y(_,K),ye||(Me=[H(k,"click",i[5]),H(D,"click",i[4]),H(K,"click",i[3]),H(_,"submit",i[6])],ye=!0)},p(O,[ne]){ne&1&&!fe(A.src,h="https://cdn.astraeffect.com/avatars/"+O[1][O[0]].name+"/forwards.png")&&g(A,"src",h),ne&1&&ee!==(ee=O[1][O[0]].desc+"")&&tt(re,ee)},i:C,o:C,d(O){O&&L(t),O&&L(o),O&&L(l),ye=!1,J(Me)}}}function bt(i,t,o){let l=[{name:"avatar1",desc:"Avatar1 is a normal warrior. He has no special abilities."},{name:"avatar2",desc:"Avatar2 is quick and nimble, never goes anywhere without their bow. They are the fastest avatar not just fast in running, everything they do is sped up."},{name:"avatar3",desc:"Avatar3 has super strength, he is stronger then any other avatar but at the cost that they hurt slower."}],a=0;const s=()=>{localStorage.setItem("avatar",l[a].name),localStorage.setItem("inventory","egg"),localStorage.setItem("equipped",'{"weapon":null,"armor":null,"accessory":null}'),localStorage.setItem("musicStatus","playing"),window.location.reload()},c=()=>{localStorage.clear(),window.location.reload()},m=()=>{a<l.length-1?o(0,a++,a):o(0,a=0)},A=()=>{a>0?o(0,a--,a):o(0,a=l.length-1)};return ot(()=>{for(let e=0;e<document.getElementsByClassName("avatarSelectItem").length;e++)document.getElementsByClassName("avatarSelectItem")[e].addEventListener("click",()=>{console.log(document.getElementsByClassName("avatarSelectItem")[e].src)})}),[a,l,s,c,m,A,e=>{e.preventDefault(),s()}]}class It extends me{constructor(t){super(),de(this,t,bt,yt,ie,{})}}function wt(i){let t,o,l,a,s,c,m,A,h,e,n,r,u,d,f,_,v,I,k,x,E,X,$,T,D,Q,Z;return{c(){t=b("link"),o=S(),l=b("div"),a=b("div"),s=b("form"),c=b("input"),m=S(),A=b("p"),h=S(),e=b("input"),n=S(),r=b("div"),u=b("button"),u.innerHTML='<span class="material-symbols-outlined svelte-4qbqcc">play_pause</span>',d=S(),f=b("input"),_=S(),v=b("button"),v.textContent="Controls",I=S(),k=b("button"),k.textContent="Credits",x=S(),E=b("button"),E.textContent="Delete Account",X=S(),$=b("button"),$.textContent="Leave Game",T=S(),D=b("button"),D.textContent="Save",g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-4qbqcc"),g(c,"class","disabled svelte-4qbqcc"),c.disabled=!0,g(c,"type","text"),g(c,"name","displayName"),c.value=localStorage.getItem("displayName"),g(A,"id","err"),g(A,"class","svelte-4qbqcc"),g(e,"class","disabled genId svelte-4qbqcc"),e.disabled=!0,g(e,"type","text"),g(e,"name","genId"),e.value=localStorage.getItem("generatedId"),g(u,"id","pausePlay"),g(u,"class","pausePlay svelte-4qbqcc"),g(u,"type","button"),g(f,"type","range"),g(f,"min","0"),g(f,"max","100"),f.value=localStorage.getItem("musicVolume")*100||50,g(f,"class","volumeSlider svelte-4qbqcc"),g(f,"id","volume"),g(r,"class","musicControls svelte-4qbqcc"),g(v,"class","settingsButton svelte-4qbqcc"),g(v,"type","button"),g(k,"class","settingsButton svelte-4qbqcc"),g(k,"type","button"),g(E,"class","removeAccountButton svelte-4qbqcc"),g(E,"type","button"),g($,"class","closeButton svelte-4qbqcc"),g($,"type","button"),g(D,"class","leaveButton svelte-4qbqcc"),g(D,"type","submit"),g(s,"class","svelte-4qbqcc"),g(a,"class","child svelte-4qbqcc"),g(l,"class","parent svelte-4qbqcc")},m(W,F){M(W,t,F),M(W,o,F),M(W,l,F),y(l,a),y(a,s),y(s,c),y(s,m),y(s,A),y(s,h),y(s,e),y(s,n),y(s,r),y(r,u),y(r,d),y(r,f),y(s,_),y(s,v),y(s,I),y(s,k),y(s,x),y(s,E),y(s,X),y(s,$),y(s,T),y(s,D),Q||(Z=[H(u,"click",i[1]),H(f,"input",i[2]),H(v,"click",i[6]),H(k,"click",i[7]),H(E,"click",i[5]),H($,"click",i[4]),H(s,"submit",i[8])],Q=!0)},p:C,i:C,o:C,d(W){W&&L(t),W&&L(o),W&&L(l),Q=!1,J(Z)}}}function kt(i){const t=Ee();let o=localStorage.getItem("musicStatus");const l=()=>{if(o==="playing"){o="paused",localStorage.setItem("musicStatus","paused"),document.getElementById("pausePlay").innerHTML='<span class="material-symbols-outlined">play_arrow</span>',t("pausePlay",{status:"pause"});return}else if(o==="paused"){o="playing",localStorage.setItem("musicStatus","playing"),document.getElementById("pausePlay").innerHTML='<span class="material-symbols-outlined">pause</span>',t("pausePlay",{status:"play"});return}},a=()=>{localStorage.setItem("musicVolume",document.getElementById("volume").value/100);const n=document.getElementById("volume");t("volume",{volume:n.value/100})},s=n=>{n?(console.log("Saving Settings"),t("close","true")):(console.log("Not Saving Settings"),t("close","true"))};return[t,l,a,s,()=>{window.close()},()=>{swal({title:"Account Deletion",text:"Are you sure you want to delete your account? This action cannot be undone.",icon:"warning",buttons:!0,dangerMode:!0}).then(n=>{n?(t("stopPlayerUpdateLoop",!0),console.log("clearing local storage"),localStorage.clear(),window.location.reload()):console.log("Not deleting account")})},()=>{t("openControls",!0)},()=>{window.open("https://shlay.astraeffect.com/","_tauri")},n=>{n.preventDefault(),s(!0)}]}class xt extends me{constructor(t){super(),de(this,t,kt,wt,ie,{})}}function St(i){let t,o,l,a,s,c,m;return{c(){t=b("link"),o=S(),l=b("div"),a=b("div"),s=b("button"),s.textContent="Save",g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-nx5t8l"),g(s,"class","leaveButton svelte-nx5t8l"),g(s,"type","submit"),g(a,"class","child svelte-nx5t8l"),g(l,"class","parent svelte-nx5t8l")},m(A,h){M(A,t,h),M(A,o,h),M(A,l,h),y(l,a),y(a,s),c||(m=H(s,"click",i[0]),c=!0)},p:C,i:C,o:C,d(A){A&&L(t),A&&L(o),A&&L(l),c=!1,m()}}}function Bt(i){const t=Ee();return[()=>{console.log("Closing controls"),t("close","true")}]}class Tt extends me{constructor(t){super(),de(this,t,Bt,St,ie,{})}}function Et(i){let t,o,l,a,s,c,m,A,h,e,n,r,u,d,f,_;return{c(){t=b("link"),o=S(),l=b("div"),a=b("div"),s=b("h1"),s.textContent="Debug Controls",c=S(),m=b("form"),A=b("label"),A.textContent="Health",h=S(),e=b("input"),n=S(),r=b("button"),r.innerHTML='<span class="material-symbols-outlined svelte-qbpl07">done</span>',u=S(),d=b("button"),d.textContent="Save",g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-qbpl07"),g(s,"class","svelte-qbpl07"),g(A,"for","healthInput"),g(A,"class","svelte-qbpl07"),g(e,"type","number"),g(e,"id","healthInput"),g(e,"name","healthInput"),g(e,"min","0"),g(e,"max","100"),e.value=localStorage.getItem("health"),g(e,"class","svelte-qbpl07"),g(r,"type","submit"),g(r,"class","svelte-qbpl07"),g(m,"class","svelte-qbpl07"),g(d,"class","leaveButton svelte-qbpl07"),g(d,"type","button"),g(a,"class","child svelte-qbpl07"),g(l,"class","parent svelte-qbpl07")},m(v,I){M(v,t,I),M(v,o,I),M(v,l,I),y(l,a),y(a,s),y(a,c),y(a,m),y(m,A),y(m,h),y(m,e),y(m,n),y(m,r),y(a,u),y(a,d),f||(_=[H(m,"submit",i[2]),H(d,"click",i[0])],f=!0)},p:C,i:C,o:C,d(v){v&&L(t),v&&L(o),v&&L(l),f=!1,J(_)}}}function Lt(i){const t=Ee(),o=()=>{console.log("Closing debug"),t("close","true")},l=()=>{console.log("Applying changes"),localStorage.setItem("health",document.getElementById("healthInput").value)};return[o,l,s=>{s.preventDefault(),l(),o()}]}class Mt extends me{constructor(t){super(),de(this,t,Lt,Et,ie,{})}}var $e,pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qe={};$e=qe,function(){var i=function(){this.init()};i.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var n=this||t;if(e=parseFloat(e),n.ctx||h(),e!==void 0&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var u=n._howls[r]._getSoundIds(),d=0;d<u.length;d++){var f=n._howls[r]._soundById(u[d]);f&&f._node&&(f._node.volume=f._volume*e)}return n}return n._volume},mute:function(e){var n=this||t;n.ctx||h(),n._muted=e,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e?0:n._volume,t.ctx.currentTime);for(var r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var u=n._howls[r]._getSoundIds(),d=0;d<u.length;d++){var f=n._howls[r]._soundById(u[d]);f&&f._node&&(f._node.muted=!!e||f._muted)}return n},stop:function(){for(var e=this||t,n=0;n<e._howls.length;n++)e._howls[n].stop();return e},unload:function(){for(var e=this||t,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&e.ctx.close!==void 0&&(e.ctx.close(),e.ctx=null,h()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{new Audio().oncanplaythrough===void 0&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{new Audio().muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,n=null;try{n=typeof Audio<"u"?new Audio:null}catch{return e}if(!n||typeof n.canPlayType!="function")return e;var r=n.canPlayType("audio/mpeg;").replace(/^no$/,""),u=e._navigator?e._navigator.userAgent:"",d=u.match(/OPR\/([0-6].)/g),f=d&&parseInt(d[0].split("/")[1],10)<33,_=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,v=u.match(/Version\/(.*?) /),I=_&&v&&parseInt(v[1],10)<15;return e._codecs={mp3:!(f||!r&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(I||!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(I||!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||e.ctx.sampleRate===44100||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var n=function(r){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,e._releaseHtml5Audio(u)}catch{e.noAudio=!0;break}for(var d=0;d<e._howls.length;d++)if(!e._howls[d]._webAudio)for(var f=e._howls[d]._getSoundIds(),_=0;_<f.length;_++){var v=e._howls[d]._soundById(f[_]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}e._autoResume();var I=e.ctx.createBufferSource();I.buffer=e._scratchBuffer,I.connect(e.ctx.destination),I.start===void 0?I.noteOn(0):I.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),I.onended=function(){I.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var k=0;k<e._howls.length;k++)e._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var n=new Audio().play();return n&&typeof Promise<"u"&&(n instanceof Promise||typeof n.then=="function")&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var n=this||t;return e._unlocked&&n._html5AudioPool.push(e),n},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&e.ctx.suspend!==void 0&&t.usingWebAudio){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio){for(var r=0;r<e._howls[n]._sounds.length;r++)if(!e._howls[n]._sounds[r]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var u=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(u,u)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&e.ctx.resume!==void 0&&t.usingWebAudio)return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var t=new i,o=function(e){e.src&&e.src.length!==0?this.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var n=this;return t.ctx||h(),n._autoplay=e.autoplay||!1,n._format=typeof e.format!="string"?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload=typeof e.preload!="boolean"&&e.preload!=="metadata"||e.preload,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src=typeof e.src!="string"?e.src:[e.src],n._volume=e.volume!==void 0?e.volume:1,n._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onunlock=e.onunlock?[{fn:e.onunlock}]:[],n._onresume=[],n._webAudio=t.usingWebAudio&&!n._html5,t.ctx!==void 0&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n._preload!=="none"&&n.load(),n},load:function(){var e=this,n=null;if(t.noAudio)e._emit("loaderror",null,"No audio support.");else{typeof e._src=="string"&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var u,d;if(e._format&&e._format[r])u=e._format[r];else{if(typeof(d=e._src[r])!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(u=/^data:audio\/([^;,]+);/i.exec(d))||(u=/\.([^.]+)$/.exec(d.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&t.codecs(u)){n=e._src[r];break}}if(n)return e._src=n,e._state="loading",window.location.protocol==="https:"&&n.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new l(e),e._webAudio&&s(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,n){var r=this,u=null;if(typeof e=="number")u=e,e=null;else{if(typeof e=="string"&&r._state==="loaded"&&!r._sprite[e])return null;if(e===void 0&&(e="__default",!r._playLock)){for(var d=0,f=0;f<r._sounds.length;f++)r._sounds[f]._paused&&!r._sounds[f]._ended&&(d++,u=r._sounds[f]._id);d===1?e=null:u=null}}var _=u?r._soundById(u):r._inactiveSound();if(!_)return null;if(u&&!e&&(e=_._sprite||"__default"),r._state!=="loaded"){_._sprite=e,_._ended=!1;var v=_._id;return r._queue.push({event:"play",action:function(){r.play(v)}}),v}if(u&&!_._paused)return n||r._loadQueue("play"),_._id;r._webAudio&&t._autoResume();var I=Math.max(0,_._seek>0?_._seek:r._sprite[e][0]/1e3),k=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-I),x=1e3*k/Math.abs(_._rate),E=r._sprite[e][0]/1e3,X=(r._sprite[e][0]+r._sprite[e][1])/1e3;_._sprite=e,_._ended=!1;var $=function(){_._paused=!1,_._seek=I,_._start=E,_._stop=X,_._loop=!(!_._loop&&!r._sprite[e][2])};if(!(I>=X)){var T=_._node;if(r._webAudio){var D=function(){r._playLock=!1,$(),r._refreshBuffer(_);var F=_._muted||r._muted?0:_._volume;T.gain.setValueAtTime(F,t.ctx.currentTime),_._playStart=t.ctx.currentTime,T.bufferSource.start===void 0?_._loop?T.bufferSource.noteGrainOn(0,I,86400):T.bufferSource.noteGrainOn(0,I,k):_._loop?T.bufferSource.start(0,I,86400):T.bufferSource.start(0,I,k),x!==1/0&&(r._endTimers[_._id]=setTimeout(r._ended.bind(r,_),x)),n||setTimeout(function(){r._emit("play",_._id),r._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?D():(r._playLock=!0,r.once("resume",D),r._clearTimer(_._id))}else{var Q=function(){T.currentTime=I,T.muted=_._muted||r._muted||t._muted||T.muted,T.volume=_._volume*t.volume(),T.playbackRate=_._rate;try{var F=T.play();if(F&&typeof Promise<"u"&&(F instanceof Promise||typeof F.then=="function")?(r._playLock=!0,$(),F.then(function(){r._playLock=!1,T._unlocked=!0,n?r._loadQueue():r._emit("play",_._id)}).catch(function(){r._playLock=!1,r._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),_._ended=!0,_._paused=!0})):n||(r._playLock=!1,$(),r._emit("play",_._id)),T.playbackRate=_._rate,T.paused)return void r._emit("playerror",_._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");e!=="__default"||_._loop?r._endTimers[_._id]=setTimeout(r._ended.bind(r,_),x):(r._endTimers[_._id]=function(){r._ended(_),T.removeEventListener("ended",r._endTimers[_._id],!1)},T.addEventListener("ended",r._endTimers[_._id],!1))}catch(ee){r._emit("playerror",_._id,ee)}};T.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(T.src=r._src,T.load());var Z=window&&window.ejecta||!T.readyState&&t._navigator.isCocoonJS;if(T.readyState>=3||Z)Q();else{r._playLock=!0,r._state="loading";var W=function(){r._state="loaded",Q(),T.removeEventListener(t._canPlayEvent,W,!1)};T.addEventListener(t._canPlayEvent,W,!1),r._clearTimer(_._id)}}return _._id}r._ended(_)},pause:function(e){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var r=n._getSoundIds(e),u=0;u<r.length;u++){n._clearTimer(r[u]);var d=n._soundById(r[u]);if(d&&!d._paused&&(d._seek=n.seek(r[u]),d._rateSeek=0,d._paused=!0,n._stopFade(r[u]),d._node))if(n._webAudio){if(!d._node.bufferSource)continue;d._node.bufferSource.stop===void 0?d._node.bufferSource.noteOff(0):d._node.bufferSource.stop(0),n._cleanBuffer(d._node)}else isNaN(d._node.duration)&&d._node.duration!==1/0||d._node.pause();arguments[1]||n._emit("pause",d?d._id:null)}return n},stop:function(e,n){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(e)}}),r;for(var u=r._getSoundIds(e),d=0;d<u.length;d++){r._clearTimer(u[d]);var f=r._soundById(u[d]);f&&(f._seek=f._start||0,f._rateSeek=0,f._paused=!0,f._ended=!0,r._stopFade(u[d]),f._node&&(r._webAudio?f._node.bufferSource&&(f._node.bufferSource.stop===void 0?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),r._cleanBuffer(f._node)):isNaN(f._node.duration)&&f._node.duration!==1/0||(f._node.currentTime=f._start||0,f._node.pause(),f._node.duration===1/0&&r._clearSound(f._node))),n||r._emit("stop",f._id))}return r},mute:function(e,n){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,n)}}),r;if(n===void 0){if(typeof e!="boolean")return r._muted;r._muted=e}for(var u=r._getSoundIds(n),d=0;d<u.length;d++){var f=r._soundById(u[d]);f&&(f._muted=e,f._interval&&r._stopFade(f._id),r._webAudio&&f._node?f._node.gain.setValueAtTime(e?0:f._volume,t.ctx.currentTime):f._node&&(f._node.muted=!!t._muted||e),r._emit("mute",f._id))}return r},volume:function(){var e,n,r,u=this,d=arguments;if(d.length===0)return u._volume;if(d.length===1||d.length===2&&d[1]===void 0){var f=u._getSoundIds(),_=f.indexOf(d[0]);_>=0?n=parseInt(d[0],10):e=parseFloat(d[0])}else d.length>=2&&(e=parseFloat(d[0]),n=parseInt(d[1],10));if(!(e!==void 0&&e>=0&&e<=1))return(r=n?u._soundById(n):u._sounds[0])?r._volume:0;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,d)}}),u;n===void 0&&(u._volume=e),n=u._getSoundIds(n);for(var v=0;v<n.length;v++)(r=u._soundById(n[v]))&&(r._volume=e,d[2]||u._stopFade(n[v]),u._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(e,t.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=e*t.volume()),u._emit("volume",r._id));return u},fade:function(e,n,r,u){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"fade",action:function(){d.fade(e,n,r,u)}}),d;e=Math.min(Math.max(0,parseFloat(e)),1),n=Math.min(Math.max(0,parseFloat(n)),1),r=parseFloat(r),d.volume(e,u);for(var f=d._getSoundIds(u),_=0;_<f.length;_++){var v=d._soundById(f[_]);if(v){if(u||d._stopFade(f[_]),d._webAudio&&!v._muted){var I=t.ctx.currentTime,k=I+r/1e3;v._volume=e,v._node.gain.setValueAtTime(e,I),v._node.gain.linearRampToValueAtTime(n,k)}d._startFadeInterval(v,e,n,r,f[_],u===void 0)}}return d},_startFadeInterval:function(e,n,r,u,d,f){var _=this,v=n,I=r-n,k=Math.abs(I/.01),x=Math.max(4,k>0?u/k:u),E=Date.now();e._fadeTo=r,e._interval=setInterval(function(){var X=(Date.now()-E)/u;E=Date.now(),v+=I*X,v=Math.round(100*v)/100,v=I<0?Math.max(r,v):Math.min(r,v),_._webAudio?e._volume=v:_.volume(v,e._id,!0),f&&(_._volume=v),(r<n&&v<=r||r>n&&v>=r)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,_.volume(r,e._id),_._emit("fade",e._id))},x)},_stopFade:function(e){var n=this,r=n._soundById(e);return r&&r._interval&&(n._webAudio&&r._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(r._interval),r._interval=null,n.volume(r._fadeTo,e),r._fadeTo=null,n._emit("fade",e)),n},loop:function(){var e,n,r,u=this,d=arguments;if(d.length===0)return u._loop;if(d.length===1){if(typeof d[0]!="boolean")return!!(r=u._soundById(parseInt(d[0],10)))&&r._loop;e=d[0],u._loop=e}else d.length===2&&(e=d[0],n=parseInt(d[1],10));for(var f=u._getSoundIds(n),_=0;_<f.length;_++)(r=u._soundById(f[_]))&&(r._loop=e,u._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=e,e&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,u.playing(f[_])&&(u.pause(f[_],!0),u.play(f[_],!0)))));return u},rate:function(){var e,n,r,u=this,d=arguments;if(d.length===0)n=u._sounds[0]._id;else if(d.length===1){var f=u._getSoundIds(),_=f.indexOf(d[0]);_>=0?n=parseInt(d[0],10):e=parseFloat(d[0])}else d.length===2&&(e=parseFloat(d[0]),n=parseInt(d[1],10));if(typeof e!="number")return(r=u._soundById(n))?r._rate:u._rate;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,d)}}),u;n===void 0&&(u._rate=e),n=u._getSoundIds(n);for(var v=0;v<n.length;v++)if(r=u._soundById(n[v])){u.playing(n[v])&&(r._rateSeek=u.seek(n[v]),r._playStart=u._webAudio?t.ctx.currentTime:r._playStart),r._rate=e,u._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(e,t.ctx.currentTime):r._node&&(r._node.playbackRate=e);var I=u.seek(n[v]),k=(u._sprite[r._sprite][0]+u._sprite[r._sprite][1])/1e3-I,x=1e3*k/Math.abs(r._rate);!u._endTimers[n[v]]&&r._paused||(u._clearTimer(n[v]),u._endTimers[n[v]]=setTimeout(u._ended.bind(u,r),x)),u._emit("rate",r._id)}return u},seek:function(){var e,n,r=this,u=arguments;if(u.length===0)r._sounds.length&&(n=r._sounds[0]._id);else if(u.length===1){var d=r._getSoundIds(),f=d.indexOf(u[0]);f>=0?n=parseInt(u[0],10):r._sounds.length&&(n=r._sounds[0]._id,e=parseFloat(u[0]))}else u.length===2&&(e=parseFloat(u[0]),n=parseInt(u[1],10));if(n===void 0)return 0;if(typeof e=="number"&&(r._state!=="loaded"||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,u)}}),r;var _=r._soundById(n);if(_){if(!(typeof e=="number"&&e>=0)){if(r._webAudio){var v=r.playing(n)?t.ctx.currentTime-_._playStart:0,I=_._rateSeek?_._rateSeek-_._seek:0;return _._seek+(I+v*Math.abs(_._rate))}return _._node.currentTime}var k=r.playing(n);k&&r.pause(n,!0),_._seek=e,_._ended=!1,r._clearTimer(n),r._webAudio||!_._node||isNaN(_._node.duration)||(_._node.currentTime=e);var x=function(){k&&r.play(n,!0),r._emit("seek",n)};if(k&&!r._webAudio){var E=function(){r._playLock?setTimeout(E,0):x()};setTimeout(E,0)}else x()}return r},playing:function(e){var n=this;if(typeof e=="number"){var r=n._soundById(e);return!!r&&!r._paused}for(var u=0;u<n._sounds.length;u++)if(!n._sounds[u]._paused)return!0;return!1},duration:function(e){var n=this,r=n._duration,u=n._soundById(e);return u&&(r=n._sprite[u._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,r=0;r<n.length;r++)n[r]._paused||e.stop(n[r]._id),e._webAudio||(e._clearSound(n[r]._node),n[r]._node.removeEventListener("error",n[r]._errorFn,!1),n[r]._node.removeEventListener(t._canPlayEvent,n[r]._loadFn,!1),n[r]._node.removeEventListener("ended",n[r]._endFn,!1),t._releaseHtml5Audio(n[r]._node)),delete n[r]._node,e._clearTimer(n[r]._id);var u=t._howls.indexOf(e);u>=0&&t._howls.splice(u,1);var d=!0;for(r=0;r<t._howls.length;r++)if(t._howls[r]._src===e._src||e._src.indexOf(t._howls[r]._src)>=0){d=!1;break}return a&&d&&delete a[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,n,r,u){var d=this["_on"+e];return typeof n=="function"&&d.push(u?{id:r,fn:n,once:u}:{id:r,fn:n}),this},off:function(e,n,r){var u=this,d=u["_on"+e],f=0;if(typeof n=="number"&&(r=n,n=null),n||r)for(f=0;f<d.length;f++){var _=r===d[f].id;if(n===d[f].fn&&_||!n&&_){d.splice(f,1);break}}else if(e)u["_on"+e]=[];else{var v=Object.keys(u);for(f=0;f<v.length;f++)v[f].indexOf("_on")===0&&Array.isArray(u[v[f]])&&(u[v[f]]=[])}return u},once:function(e,n,r){return this.on(e,n,r,1),this},_emit:function(e,n,r){for(var u=this,d=u["_on"+e],f=d.length-1;f>=0;f--)d[f].id&&d[f].id!==n&&e!=="load"||(setTimeout(function(_){_.call(this,n,r)}.bind(u,d[f].fn),0),d[f].once&&u.off(e,d[f].fn,d[f].id));return u._loadQueue(e),u},_loadQueue:function(e){var n=this;if(n._queue.length>0){var r=n._queue[0];r.event===e&&(n._queue.shift(),n._loadQueue()),e||r.action()}return n},_ended:function(e){var n=this,r=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(n._ended.bind(n,e),100),n;var u=!(!e._loop&&!n._sprite[r][2]);if(n._emit("end",e._id),!n._webAudio&&u&&n.stop(e._id,!0).play(e._id),n._webAudio&&u){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var d=1e3*(e._stop-e._start)/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),d)}return n._webAudio&&!u&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),t._autoSuspend()),n._webAudio||u||n.stop(e._id,!0),n},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(typeof n._endTimers[e]!="function")clearTimeout(n._endTimers[e]);else{var r=n._soundById(e);r&&r._node&&r._node.removeEventListener("ended",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,r=0;r<n._sounds.length;r++)if(e===n._sounds[r]._id)return n._sounds[r];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new l(e)},_drain:function(){var e=this,n=e._pool,r=0,u=0;if(!(e._sounds.length<n)){for(u=0;u<e._sounds.length;u++)e._sounds[u]._ended&&r++;for(u=e._sounds.length-1;u>=0;u--){if(r<=n)return;e._sounds[u]._ended&&(e._webAudio&&e._sounds[u]._node&&e._sounds[u]._node.disconnect(0),e._sounds.splice(u,1),r--)}}},_getSoundIds:function(e){if(e===void 0){for(var n=[],r=0;r<this._sounds.length;r++)n.push(this._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=a[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),this},_cleanBuffer:function(e){var n=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),n))try{e.bufferSource.buffer=t._scratchBuffer}catch{}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var l=function(e){this._parent=e,this.init()};l.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,r=t._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=t.ctx.createGain===void 0?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(r,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):t.noAudio||(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=n._src,e._node.preload=n._preload===!0?"auto":n._preload,e._node.volume=r*t.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(10*e._node.duration)/10,Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,1e3*n._duration]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,n=e._parent;n._duration===1/0&&(n._duration=Math.ceil(10*e._node.duration)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=1e3*n._duration),n._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var a={},s=function(e){var n=e._src;if(a[n])return e._duration=a[n].duration,void A(e);if(/^data:[^;]+;base64,/.test(n)){for(var r=atob(n.split(",")[1]),u=new Uint8Array(r.length),d=0;d<r.length;++d)u[d]=r.charCodeAt(d);m(u.buffer,e)}else{var f=new XMLHttpRequest;f.open(e._xhr.method,n,!0),f.withCredentials=e._xhr.withCredentials,f.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(_){f.setRequestHeader(_,e._xhr.headers[_])}),f.onload=function(){var _=(f.status+"")[0];_==="0"||_==="2"||_==="3"?m(f.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+f.status+".")},f.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[n],e.load())},c(f)}},c=function(e){try{e.send()}catch{e.onerror()}},m=function(e,n){var r=function(){n._emit("loaderror",null,"Decoding audio data failed.")},u=function(d){d&&n._sounds.length>0?(a[n._src]=d,A(n,d)):r()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(e).then(u).catch(r):t.ctx.decodeAudioData(e,u,r)},A=function(e,n){n&&!e._duration&&(e._duration=n.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,1e3*e._duration]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},h=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),n=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=n?parseInt(n[1],10):null;if(e&&r&&r<9){var u=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!u&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=t.ctx.createGain===void 0?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};$e.Howler=t,$e.Howl=o,pe!==void 0?(pe.HowlerGlobal=i,pe.Howler=t,pe.Howl=o,pe.Sound=l):typeof window<"u"&&(window.HowlerGlobal=i,window.Howler=t,window.Howl=o,window.Sound=l)}(),function(){var i;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(o){var l=this;if(!l.ctx||!l.ctx.listener)return l;for(var a=l._howls.length-1;a>=0;a--)l._howls[a].stereo(o);return l},HowlerGlobal.prototype.pos=function(o,l,a){var s=this;return s.ctx&&s.ctx.listener?(l=typeof l!="number"?s._pos[1]:l,a=typeof a!="number"?s._pos[2]:a,typeof o!="number"?s._pos:(s._pos=[o,l,a],s.ctx.listener.positionX!==void 0?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]),s)):s},HowlerGlobal.prototype.orientation=function(o,l,a,s,c,m){var A=this;if(!A.ctx||!A.ctx.listener)return A;var h=A._orientation;return l=typeof l!="number"?h[1]:l,a=typeof a!="number"?h[2]:a,s=typeof s!="number"?h[3]:s,c=typeof c!="number"?h[4]:c,m=typeof m!="number"?h[5]:m,typeof o!="number"?h:(A._orientation=[o,l,a,s,c,m],A.ctx.listener.forwardX!==void 0?(A.ctx.listener.forwardX.setTargetAtTime(o,Howler.ctx.currentTime,.1),A.ctx.listener.forwardY.setTargetAtTime(l,Howler.ctx.currentTime,.1),A.ctx.listener.forwardZ.setTargetAtTime(a,Howler.ctx.currentTime,.1),A.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),A.ctx.listener.upY.setTargetAtTime(c,Howler.ctx.currentTime,.1),A.ctx.listener.upZ.setTargetAtTime(m,Howler.ctx.currentTime,.1)):A.ctx.listener.setOrientation(o,l,a,s,c,m),A)},Howl.prototype.init=(i=Howl.prototype.init,function(o){var l=this;return l._orientation=o.orientation||[1,0,0],l._stereo=o.stereo||null,l._pos=o.pos||null,l._pannerAttr={coneInnerAngle:o.coneInnerAngle!==void 0?o.coneInnerAngle:360,coneOuterAngle:o.coneOuterAngle!==void 0?o.coneOuterAngle:360,coneOuterGain:o.coneOuterGain!==void 0?o.coneOuterGain:0,distanceModel:o.distanceModel!==void 0?o.distanceModel:"inverse",maxDistance:o.maxDistance!==void 0?o.maxDistance:1e4,panningModel:o.panningModel!==void 0?o.panningModel:"HRTF",refDistance:o.refDistance!==void 0?o.refDistance:1,rolloffFactor:o.rolloffFactor!==void 0?o.rolloffFactor:1},l._onstereo=o.onstereo?[{fn:o.onstereo}]:[],l._onpos=o.onpos?[{fn:o.onpos}]:[],l._onorientation=o.onorientation?[{fn:o.onorientation}]:[],i.call(this,o)}),Howl.prototype.stereo=function(o,l){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"stereo",action:function(){a.stereo(o,l)}}),a;var s=Howler.ctx.createStereoPanner===void 0?"spatial":"stereo";if(l===void 0){if(typeof o!="number")return a._stereo;a._stereo=o,a._pos=[o,0,0]}for(var c=a._getSoundIds(l),m=0;m<c.length;m++){var A=a._soundById(c[m]);if(A){if(typeof o!="number")return A._stereo;A._stereo=o,A._pos=[o,0,0],A._node&&(A._pannerAttr.panningModel="equalpower",A._panner&&A._panner.pan||t(A,s),s==="spatial"?A._panner.positionX!==void 0?(A._panner.positionX.setValueAtTime(o,Howler.ctx.currentTime),A._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),A._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):A._panner.setPosition(o,0,0):A._panner.pan.setValueAtTime(o,Howler.ctx.currentTime)),a._emit("stereo",A._id)}}return a},Howl.prototype.pos=function(o,l,a,s){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"pos",action:function(){c.pos(o,l,a,s)}}),c;if(l=typeof l!="number"?0:l,a=typeof a!="number"?-.5:a,s===void 0){if(typeof o!="number")return c._pos;c._pos=[o,l,a]}for(var m=c._getSoundIds(s),A=0;A<m.length;A++){var h=c._soundById(m[A]);if(h){if(typeof o!="number")return h._pos;h._pos=[o,l,a],h._node&&(h._panner&&!h._panner.pan||t(h,"spatial"),h._panner.positionX!==void 0?(h._panner.positionX.setValueAtTime(o,Howler.ctx.currentTime),h._panner.positionY.setValueAtTime(l,Howler.ctx.currentTime),h._panner.positionZ.setValueAtTime(a,Howler.ctx.currentTime)):h._panner.setPosition(o,l,a)),c._emit("pos",h._id)}}return c},Howl.prototype.orientation=function(o,l,a,s){var c=this;if(!c._webAudio)return c;if(c._state!=="loaded")return c._queue.push({event:"orientation",action:function(){c.orientation(o,l,a,s)}}),c;if(l=typeof l!="number"?c._orientation[1]:l,a=typeof a!="number"?c._orientation[2]:a,s===void 0){if(typeof o!="number")return c._orientation;c._orientation=[o,l,a]}for(var m=c._getSoundIds(s),A=0;A<m.length;A++){var h=c._soundById(m[A]);if(h){if(typeof o!="number")return h._orientation;h._orientation=[o,l,a],h._node&&(h._panner||(h._pos||(h._pos=c._pos||[0,0,-.5]),t(h,"spatial")),h._panner.orientationX!==void 0?(h._panner.orientationX.setValueAtTime(o,Howler.ctx.currentTime),h._panner.orientationY.setValueAtTime(l,Howler.ctx.currentTime),h._panner.orientationZ.setValueAtTime(a,Howler.ctx.currentTime)):h._panner.setOrientation(o,l,a)),c._emit("orientation",h._id)}}return c},Howl.prototype.pannerAttr=function(){var o,l,a,s=this,c=arguments;if(!s._webAudio)return s;if(c.length===0)return s._pannerAttr;if(c.length===1){if(typeof c[0]!="object")return(a=s._soundById(parseInt(c[0],10)))?a._pannerAttr:s._pannerAttr;o=c[0],l===void 0&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),s._pannerAttr={coneInnerAngle:o.pannerAttr.coneInnerAngle!==void 0?o.pannerAttr.coneInnerAngle:s._coneInnerAngle,coneOuterAngle:o.pannerAttr.coneOuterAngle!==void 0?o.pannerAttr.coneOuterAngle:s._coneOuterAngle,coneOuterGain:o.pannerAttr.coneOuterGain!==void 0?o.pannerAttr.coneOuterGain:s._coneOuterGain,distanceModel:o.pannerAttr.distanceModel!==void 0?o.pannerAttr.distanceModel:s._distanceModel,maxDistance:o.pannerAttr.maxDistance!==void 0?o.pannerAttr.maxDistance:s._maxDistance,refDistance:o.pannerAttr.refDistance!==void 0?o.pannerAttr.refDistance:s._refDistance,rolloffFactor:o.pannerAttr.rolloffFactor!==void 0?o.pannerAttr.rolloffFactor:s._rolloffFactor,panningModel:o.pannerAttr.panningModel!==void 0?o.pannerAttr.panningModel:s._panningModel})}else c.length===2&&(o=c[0],l=parseInt(c[1],10));for(var m=s._getSoundIds(l),A=0;A<m.length;A++)if(a=s._soundById(m[A])){var h=a._pannerAttr;h={coneInnerAngle:o.coneInnerAngle!==void 0?o.coneInnerAngle:h.coneInnerAngle,coneOuterAngle:o.coneOuterAngle!==void 0?o.coneOuterAngle:h.coneOuterAngle,coneOuterGain:o.coneOuterGain!==void 0?o.coneOuterGain:h.coneOuterGain,distanceModel:o.distanceModel!==void 0?o.distanceModel:h.distanceModel,maxDistance:o.maxDistance!==void 0?o.maxDistance:h.maxDistance,refDistance:o.refDistance!==void 0?o.refDistance:h.refDistance,rolloffFactor:o.rolloffFactor!==void 0?o.rolloffFactor:h.rolloffFactor,panningModel:o.panningModel!==void 0?o.panningModel:h.panningModel};var e=a._panner;e?(e.coneInnerAngle=h.coneInnerAngle,e.coneOuterAngle=h.coneOuterAngle,e.coneOuterGain=h.coneOuterGain,e.distanceModel=h.distanceModel,e.maxDistance=h.maxDistance,e.refDistance=h.refDistance,e.rolloffFactor=h.rolloffFactor,e.panningModel=h.panningModel):(a._pos||(a._pos=s._pos||[0,0,-.5]),t(a,"spatial"))}return s},Sound.prototype.init=function(o){return function(){var l=this,a=l._parent;l._orientation=a._orientation,l._stereo=a._stereo,l._pos=a._pos,l._pannerAttr=a._pannerAttr,o.call(this),l._stereo?a.stereo(l._stereo):l._pos&&a.pos(l._pos[0],l._pos[1],l._pos[2],l._id)}}(Sound.prototype.init),Sound.prototype.reset=function(o){return function(){var l=this,a=l._parent;return l._orientation=a._orientation,l._stereo=a._stereo,l._pos=a._pos,l._pannerAttr=a._pannerAttr,l._stereo?a.stereo(l._stereo):l._pos?a.pos(l._pos[0],l._pos[1],l._pos[2],l._id):l._panner&&(l._panner.disconnect(0),l._panner=void 0,a._refreshBuffer(l)),o.call(this)}}(Sound.prototype.reset);var t=function(o,l){(l=l||"spatial")==="spatial"?(o._panner=Howler.ctx.createPanner(),o._panner.coneInnerAngle=o._pannerAttr.coneInnerAngle,o._panner.coneOuterAngle=o._pannerAttr.coneOuterAngle,o._panner.coneOuterGain=o._pannerAttr.coneOuterGain,o._panner.distanceModel=o._pannerAttr.distanceModel,o._panner.maxDistance=o._pannerAttr.maxDistance,o._panner.refDistance=o._pannerAttr.refDistance,o._panner.rolloffFactor=o._pannerAttr.rolloffFactor,o._panner.panningModel=o._pannerAttr.panningModel,o._panner.positionX!==void 0?(o._panner.positionX.setValueAtTime(o._pos[0],Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(o._pos[1],Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(o._pos[2],Howler.ctx.currentTime)):o._panner.setPosition(o._pos[0],o._pos[1],o._pos[2]),o._panner.orientationX!==void 0?(o._panner.orientationX.setValueAtTime(o._orientation[0],Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(o._orientation[1],Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(o._orientation[2],Howler.ctx.currentTime)):o._panner.setOrientation(o._orientation[0],o._orientation[1],o._orientation[2])):(o._panner=Howler.ctx.createStereoPanner(),o._panner.pan.setValueAtTime(o._stereo,Howler.ctx.currentTime)),o._panner.connect(o._node),o._paused||o._parent.pause(o._id,!0).play(o._id,!0)}}();var Ct=qe.Howl;qe.Howler;function Re(i){let t,o,l;return o=new xt({}),o.$on("stopPlayerUpdateLoop",i[10]),o.$on("pausePlay",i[11]),o.$on("volume",i[12]),o.$on("openControls",i[13]),o.$on("close",i[5]),{c(){t=b("div"),ge(o.$$.fragment),se(t,"z-index","10"),se(t,"position","relative")},m(a,s){M(a,t,s),ue(o,t,null),l=!0},p:C,i(a){l||(N(o.$$.fragment,a),l=!0)},o(a){Y(o.$$.fragment,a),l=!1},d(a){a&&L(t),ce(o)}}}function Qe(i){let t,o,l;return o=new Tt({}),o.$on("close",i[7]),{c(){t=b("div"),ge(o.$$.fragment),se(t,"z-index","10"),se(t,"position","relative")},m(a,s){M(a,t,s),ue(o,t,null),l=!0},p:C,i(a){l||(N(o.$$.fragment,a),l=!0)},o(a){Y(o.$$.fragment,a),l=!1},d(a){a&&L(t),ce(o)}}}function We(i){let t,o,l;return o=new Mt({}),o.$on("close",i[8]),{c(){t=b("div"),ge(o.$$.fragment),se(t,"z-index","10"),se(t,"position","relative")},m(a,s){M(a,t,s),ue(o,t,null),l=!0},p:C,i(a){l||(N(o.$$.fragment,a),l=!0)},o(a){Y(o.$$.fragment,a),l=!1},d(a){a&&L(t),ce(o)}}}function Ht(i){let t,o,l,a,s,c,m,A,h,e,n,r,u,d,f,_,v,I,k;return{c(){t=b("div"),t.innerHTML=`<p class="healthText svelte-1k8k4ke" id="healthText"></p> 
      <div class="heartParent svelte-1k8k4ke"><div class="heartParent svelte-1k8k4ke"><img src="https://cdn.astraeffect.com/gameAssets/heartFull.png" alt="heart" class="heartFull heart svelte-1k8k4ke" id="heart1"/> 
              <img src="https://cdn.astraeffect.com/gameAssets/heartFrame.png" alt="heart" class="heartFrame heart svelte-1k8k4ke"/></div> 
          <div class="heartParent svelte-1k8k4ke"><img src="https://cdn.astraeffect.com/gameAssets/heartFull.png" alt="heart" class="heartFull heart svelte-1k8k4ke" id="heart2"/> 
              <img src="https://cdn.astraeffect.com/gameAssets/heartFrame.png" alt="heart" class="heartFrame heart svelte-1k8k4ke"/></div> 
          <div class="heartParent svelte-1k8k4ke"><img src="https://cdn.astraeffect.com/gameAssets/heartFull.png" alt="heart" class="heartFull heart svelte-1k8k4ke" id="heart3"/> 
              <img src="https://cdn.astraeffect.com/gameAssets/heartFrame.png" alt="heart" class="heartFrame heart svelte-1k8k4ke"/></div>  
          <div class="heartParent svelte-1k8k4ke"><img src="https://cdn.astraeffect.com/gameAssets/heartFull.png" alt="heart" class="heartFull heart svelte-1k8k4ke" id="heart4"/> 
              <img src="https://cdn.astraeffect.com/gameAssets/heartFrame.png" alt="heart" class="heartFrame heart svelte-1k8k4ke"/></div></div>`,o=S(),l=b("div"),l.innerHTML=`<p id="displayItem" class="hotbarText svelte-1k8k4ke"></p> 
    <div class="hotbar svelte-1k8k4ke"><div id="hotbarItem1" class="hotbarItem hotbarItemActive svelte-1k8k4ke" data-item="Stick"><img class="item svelte-1k8k4ke" id="hotbarItem1Img" alt=""/><p id="hotbarItem1Amount" class="hotbarAmount svelte-1k8k4ke"></p></div> 
        <div id="hotbarItem2" class="hotbarItem svelte-1k8k4ke" data-item="null"><img class="item svelte-1k8k4ke" id="hotbarItem2Img" alt=""/><p id="hotbarItem2Amount" class="hotbarAmount svelte-1k8k4ke"></p></div> 
        <div id="hotbarItem3" class="hotbarItem svelte-1k8k4ke" data-item="null"><img class="item svelte-1k8k4ke" id="hotbarItem3Img" alt=""/><p id="hotbarItem3Amount" class="hotbarAmount svelte-1k8k4ke"></p></div> 
        <div id="hotbarItem4" class="hotbarItem svelte-1k8k4ke" data-item="null"><img class="item svelte-1k8k4ke" id="hotbarItem4Img" alt=""/><p id="hotbarItem4Amount" class="hotbarAmount svelte-1k8k4ke"></p></div> 
        <div id="hotbarItem5" class="hotbarItem svelte-1k8k4ke" data-item="null"><img class="item svelte-1k8k4ke" id="hotbarItem5Img" alt=""/><p id="hotbarItem5Amount" class="hotbarAmount svelte-1k8k4ke"></p></div></div>`,a=S(),s=b("div"),c=b("div"),m=S(),A=b("form"),A.innerHTML='<input type="text" id="chatInput" class="chatInput svelte-1k8k4ke" placeholder="Type a message..."/>',h=S(),e=b("div"),n=b("button"),n.innerHTML='<span class="material-symbols-outlined svelte-1k8k4ke">settings</span>',r=S(),u=b("div"),d=b("p"),d.textContent=`${localStorage.getItem("displayName")}`,f=S(),_=b("img"),g(t,"class","healthParent svelte-1k8k4ke"),g(l,"class","hotbarParent svelte-1k8k4ke"),g(c,"id","chat"),g(c,"class","chat"),g(A,"class","chatInputParent"),g(s,"class","chatParent svelte-1k8k4ke"),g(e,"class","navbar svelte-1k8k4ke"),g(_,"class","playerAvatar svelte-1k8k4ke"),fe(_.src,v=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png`)||g(_,"src",v),g(_,"alt","avatar"),g(u,"class","player svelte-1k8k4ke"),g(u,"id","player")},m(x,E){M(x,t,E),M(x,o,E),M(x,l,E),M(x,a,E),M(x,s,E),y(s,c),y(s,m),y(s,A),M(x,h,E),M(x,e,E),y(e,n),M(x,r,E),M(x,u,E),y(u,d),y(u,f),y(u,_),I||(k=[H(A,"submit",i[14]),H(n,"click",i[4])],I=!0)},p:C,i:C,o:C,d(x){x&&L(t),x&&L(o),x&&L(l),x&&L(a),x&&L(s),x&&L(h),x&&L(e),x&&L(r),x&&L(u),I=!1,J(k)}}}function $t(i){let t,o;return t=new It({}),{c(){ge(t.$$.fragment)},m(l,a){ue(t,l,a),o=!0},p:C,i(l){o||(N(t.$$.fragment,l),o=!0)},o(l){Y(t.$$.fragment,l),o=!1},d(l){ce(t,l)}}}function Dt(i){let t,o;return t=new ht({}),{c(){ge(t.$$.fragment)},m(l,a){ue(t,l,a),o=!0},p:C,i(l){o||(N(t.$$.fragment,l),o=!0)},o(l){Y(t.$$.fragment,l),o=!1},d(l){ce(t,l)}}}function Ft(i){let t,o,l,a,s,c,m,A,h,e,n=i[1]===!0&&Re(i),r=i[2]===!0&&Qe(i),u=i[3]===!0&&We(i);const d=[Dt,$t,Ht],f=[];function _(v,I){return v[0]==="login1"?0:v[0]==="login2"?1:v[0]==="home"?2:-1}return~(A=_(i))&&(h=f[A]=d[A](i)),{c(){t=b("link"),o=S(),l=b("main"),a=b("div"),n&&n.c(),s=S(),r&&r.c(),c=S(),u&&u.c(),m=S(),h&&h.c(),g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(a,"class","display"),g(l,"id","main"),g(l,"class","svelte-1k8k4ke")},m(v,I){M(v,t,I),M(v,o,I),M(v,l,I),y(l,a),n&&n.m(a,null),y(a,s),r&&r.m(a,null),y(a,c),u&&u.m(a,null),y(a,m),~A&&f[A].m(a,null),e=!0},p(v,I){v[1]===!0?n?(n.p(v,I),I[0]&2&&N(n,1)):(n=Re(v),n.c(),N(n,1),n.m(a,s)):n&&(Ie(),Y(n,1,1,()=>{n=null}),we()),v[2]===!0?r?(r.p(v,I),I[0]&4&&N(r,1)):(r=Qe(v),r.c(),N(r,1),r.m(a,c)):r&&(Ie(),Y(r,1,1,()=>{r=null}),we()),v[3]===!0?u?(u.p(v,I),I[0]&8&&N(u,1)):(u=We(v),u.c(),N(u,1),u.m(a,m)):u&&(Ie(),Y(u,1,1,()=>{u=null}),we());let k=A;A=_(v),A===k?~A&&f[A].p(v,I):(h&&(Ie(),Y(f[k],1,1,()=>{f[k]=null}),we()),~A?(h=f[A],h?h.p(v,I):(h=f[A]=d[A](v),h.c()),N(h,1),h.m(a,null)):h=null)},i(v){e||(N(n),N(r),N(u),N(h),e=!0)},o(v){Y(n),Y(r),Y(u),Y(h),e=!1},d(v){v&&L(t),v&&L(o),v&&L(l),n&&n.d(),r&&r.d(),u&&u.d(),~A&&f[A].d()}}}const xe="1.4.4dev";function Se(i){return new Promise(t=>setTimeout(t,i))}function qt(i,t,o){let l="",a=!1,s=!1,c=!1,m,A={},h=[],e,n,r=new Ct({src:["https://cdn.astraeffect.com/audio/crescentMoon.mp3"],volume:localStorage.getItem("musicVolume")||.5,loop:!0}),u=[{id:"spawnBuilding",type:"object",vert1:{x:-30,y:-30},vert2:{x:352,y:352},img:"https://cdn.astraeffect.com/objects/spawnBuilding.png",alt:"spawnBuilding",zIndex:0,coll:!0,interact:()=>{E("You cant travel dimensions yet! Err: 3")}},{id:"slime1",type:"enemy",vert1:{x:500,y:500},vert2:{x:30,y:22},img:"https://cdn.astraeffect.com/gameAssets/enemies/slime/slime.png",alt:"slime1",zIndex:6,coll:!0,health:100,maxHealth:100,attack:11,defence:5,speed:1,interact:null,onCollision:()=>{e.health-=11-e.defence}},{id:"slime2",type:"enemy",vert1:{x:700,y:350},vert2:{x:60,y:44},img:"https://cdn.astraeffect.com/gameAssets/enemies/slime/slime.png",alt:"slime2",zIndex:6,coll:!0,health:100,maxHealth:100,attack:13,defence:5,speed:1,interact:null,onCollision:()=>{e.health-=13-e.defence}}];const d=async()=>{let p=await IJS.Image.load("https://cdn.astraeffect.com/avatars/avatar1.png");await IJS.Image.load("https://cdn.astraeffect.com/avatars/avatar2.png");let w=await IJS.Image.load("https://cdn.astraeffect.com/objects/global.png");p.crop({x:20,y:463,width:263,height:464}),p.crop({x:302,y:463,width:263,height:464}),p.crop({x:584,y:463,width:263,height:464}),p.crop({x:866,y:463,width:263,height:464}),p.crop({x:1148,y:463,width:263,height:464}),p.crop({x:1430,y:463,width:263,height:464}),p.crop({x:20,y:1915,width:323,height:404}),p.crop({x:363,y:1895,width:404,height:525}),p.crop({x:786,y:1915,width:384,height:424}),p.crop({x:1190,y:1935,width:262,height:384});let B=w.crop({x:3,y:5,width:11,height:10});for(let q=0;q<40;q++)u.push({id:"leaf"+q,type:"tileItem",vert1:{x:Math.floor(Math.random()*1e3),y:Math.floor(Math.random()*1e3)},vert2:{x:11,y:10},img:B.toDataURL(),alt:"leaf"+q,zIndex:0,coll:!1,interact:()=>{document.getElementById("leaf"+q).remove(),u.splice(u.findIndex(j=>j.id==="leaf"+q),1),document.querySelector('[data-item="Leaf"]')!==null?document.querySelector('[data-item="Leaf"] > p').innerHTML=String((parseInt(document.querySelector('[data-item="Leaf"] > p').innerHTML)||0)+1):(document.querySelectorAll('[data-item="null"] > img')[0].src="https://cdn.astraeffect.com/gameAssets/items/leaf.png",document.querySelectorAll('[data-item="null"] > img')[0].alt="leaf",document.querySelectorAll('[data-item="null"] > p')[0].innerHTML="1",document.querySelectorAll('[data-item="null"]')[0].setAttribute("data-item","Leaf"))},onCollision:null})},f=()=>{console.log("Launching Settings"),o(1,a=!0)},_=()=>{console.log("Closing Settings"),o(1,a=!1)},v=()=>{console.log("Launching Controls"),o(2,s=!0)},I=()=>{console.log("Closing Controls"),o(2,s=!1)},k=()=>{swal({title:"Are you sure?",text:"Opening the debug menu will force stop the player update loop and restart it without a reload, this can cause issues with the game!",icon:"warning",buttons:!0,dangerMode:!0}).then(p=>{p?(console.log("Launching Debug"),o(3,c=!0),z()):console.log("Debug menu not opened.")})},x=()=>{console.log("Closing Debug"),o(3,c=!1),console.log("Building updated player object"),K(),Ae()},E=p=>{console.log(`Displaying error: ${p}`),swal({icon:"error",title:"Something went wrong!",text:p})},X=p=>{console.log(`Building object from: ${JSON.stringify(p)}`),p.element=document.createElement("div"),p.element.classList.add("object"),p.element.id=p.id,p.element.style.left=p.vert1.x+"px",p.element.style.top=p.vert1.y+"px",p.element.style.width=p.vert2.x+"px",p.element.style.height=p.vert2.y+"px",p.element.style.backgroundImage=`url(${p.img})`,p.element.style.zIndex=p.zIndex,p.element.style.pointerEvents="none",document.querySelector(".display").appendChild(p.element)},$=p=>{console.log(`Building player from: ${p}`);let w={x:p[2]||0,y:p[3]||0,speed:1e3/60,generatedId:p[0],displayName:p[1]};h[w.generatedId]=w,w.element=document.createElement("div"),w.element.classList.add("player"),w.element.id=w.generatedId,w.element.style.top=w.y+"px",w.element.style.left=w.x+"px",w.element.style.pointerEvents="none",w.element.innerHTML=`
  <p>${w.displayName}</p>
  <img class="playerAvatar" src="https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png" alt="Avatar">
  `,document.querySelector(".display").appendChild(w.element)},T=(p,w,B)=>{console.log(`Handling chat from ${p} with message: ${B}`);let q="chat"+p+String(Date.now());console.log(`Generated chat id: ${q}`);let j=document.createElement("div");j.classList.add("chatMessageContainer"),j.id=q,p==="0"?j.classList.add("systemMessage"):p===localStorage.getItem("generatedId")?j.classList.add("myMessage"):j.classList.add("otherMessage"),j.innerHTML=`
    <p class="chatName">${w}:&nbsp;</p><p class="chatMessage">${B}</p>
    `,document.getElementById("chat").appendChild(j),anime({targets:"#"+q,left:"0",duration:1e3,easing:"cubicBezier(0.33, 1, 0.68, 1)"}),setTimeout(()=>{anime({targets:"#"+q,left:"calc(-100% + -15px)",duration:1e3,easing:"cubicBezier(0.33, 1, 0.68, 1)",complete:()=>{document.getElementById(q).remove()}})},1e4)},D=p=>{switch(console.log(`Handling chat input: ${p}`),document.getElementById("chatInput").value="",document.getElementById("chatInput").blur(),p){case"/help":T("0","System","Commands: /help, /debug");break;case"/debug":k();break;default:if(p.startsWith("/"))return T("0","System","Invalid command, type /help for a list of commands.");re("chat",p);break}},Q=(p,w)=>p.x-25<w.vert1.x+w.vert2.x&&p.x-25+50>w.vert1.x&&p.y-35<w.vert1.y+w.vert2.y&&p.y-35+70>w.vert1.y,Z=(p,w)=>p.x-55<w.vert1.x+w.vert2.x&&p.x-55+110>w.vert1.x&&p.y-65<w.vert1.y+w.vert2.y&&p.y-65+130>w.vert1.y,W=async()=>{if(A.Escape){f();return}if(e.health<=0){e.health=0,swal({icon:"error",title:"You died!",text:"You have died, please respawn to continue playing!"}),z();return}e.health>100&&(e.health=100);let p=u.filter(B=>B.interact!==null);for(let B=0;B<p.length;B++)if(Z(e,p[B])){if(document.getElementById(p[B].id).style.outline="3px dashed #ffcb1699",A.e){if(document.getElementById("chatInput")===document.activeElement)return;console.log(`Player is interacting with ${p[B].id}`),p[B].interact()}}else document.getElementById(p[B].id).style.outline="none";let w=u.filter(B=>B.coll===!0);for(let B=0;B<w.length;B++)Q(e,w[B])&&(e.x<w[B].vert1.x?e.x=e.x-10:e.x>w[B].vert1.x&&(e.x=e.x+10),e.y<w[B].vert1.y?e.y=e.y-10:e.y>w[B].vert1.y&&(e.y=e.y+10),(w[B].type==="enemy"||w[B].type==="tileItem")&&w[B].onCollision());if(A.w){if(document.getElementById("chatInput")===document.activeElement)return;e.y-=10,document.getElementsByClassName("playerAvatar")[0].src=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png`,e.y<0&&(e.y=0)}if(A.s){if(document.getElementById("chatInput")===document.activeElement)return;e.y+=10,document.getElementsByClassName("playerAvatar")[0].src=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png`,e.y>window.innerHeight&&(e.y=window.innerHeight)}if(A.a){if(document.getElementById("chatInput")===document.activeElement)return;e.x-=10,document.getElementsByClassName("playerAvatar")[0].src=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/right.png`,document.getElementsByClassName("playerAvatar")[0].style.transform="scaleX(-1)",e.x<0&&(e.x=0)}if(A.d){if(document.getElementById("chatInput")===document.activeElement)return;document.getElementsByClassName("playerAvatar")[0].src=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/right.png`,document.getElementsByClassName("playerAvatar")[0].style.transform="scaleX(1)",e.x+=10,e.x>window.innerWidth&&(e.x=window.innerWidth)}if((A.w||A.s||A.a||A.d)&&(e.element.style.top=e.y+"px",e.element.style.left=e.x+"px",localStorage.setItem("x",String(e.x)),localStorage.setItem("y",String(e.y)),re("position",[e.x,e.y])),A[1]){if(document.getElementById("chatInput")===document.activeElement)return;document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem1").classList.add("hotbarItemActive")}if(A[2]){if(document.getElementById("chatInput")===document.activeElement)return;document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem2").classList.add("hotbarItemActive")}if(A[3]){if(document.getElementById("chatInput")===document.activeElement)return;document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem3").classList.add("hotbarItemActive")}if(A[4]){if(document.getElementById("chatInput")===document.activeElement)return;document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem4").classList.add("hotbarItemActive")}if(A[5]){if(document.getElementById("chatInput")===document.activeElement)return;document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem5").classList.add("hotbarItemActive")}A.lmb,A.rmb,A.mmb;for(let B=1;B<document.querySelectorAll(".hotbarItem").length+1;B++)document.getElementById(`hotbarItem${B}Img`).src="https://cdn.astraeffect.com/items/"+document.getElementById(`hotbarItem${B}`).dataset.item.toLowerCase()+".png",document.getElementById(`hotbarItem${B}Img`).alt=document.getElementById(`hotbarItem${B}`).dataset.item;document.getElementsByClassName("hotbarItemActive")[0].dataset.item!=="null"?document.getElementById("displayItem").innerText=document.getElementsByClassName("hotbarItemActive")[0].dataset.item:document.getElementById("displayItem").innerText="",e.health>75?(document.getElementById("heart1").style.display="block",document.getElementById("heart2").style.display="block",document.getElementById("heart3").style.display="block",document.getElementById("heart4").style.display="block",document.getElementById("heart4").style.opacity=String((e.health-75)/25)):e.health>50?(document.getElementById("heart1").style.display="block",document.getElementById("heart2").style.display="block",document.getElementById("heart3").style.display="block",document.getElementById("heart4").style.display="none",document.getElementById("heart3").style.opacity=String((e.health-50)/25)):e.health>25?(document.getElementById("heart1").style.display="block",document.getElementById("heart2").style.display="block",document.getElementById("heart3").style.display="none",document.getElementById("heart4").style.display="none",document.getElementById("heart2").style.opacity=String((e.health-25)/25)):e.health>0?(document.getElementById("heart1").style.display="block",document.getElementById("heart2").style.display="none",document.getElementById("heart3").style.display="none",document.getElementById("heart4").style.display="none",document.getElementById("heart1").style.opacity=String(e.health/25)):(document.getElementById("heart1").style.display="none",document.getElementById("heart2").style.display="none",document.getElementById("heart3").style.display="none",document.getElementById("heart4").style.display="none"),document.getElementById("healthText").innerHTML=`Health: ${e.health}/${e.maxHealth}`,localStorage.setItem("health",e.health),localStorage.setItem("attack",e.attack),localStorage.setItem("defence",e.defence),localStorage.setItem("level",e.level),localStorage.setItem("exp",e.exp),localStorage.setItem("maxExp",e.maxExp),localStorage.setItem("gold",e.gold),localStorage.setItem("inventory",e.inventory.join(", ")),localStorage.setItem("equipped",JSON.stringify(e.equipped))},F=()=>{const p=document.createElement("div");p.id="serverError",p.classList.add("serverError"),p.innerHTML="Disconnected from server 😢",document.getElementById("main").appendChild(p)},ee=()=>{F(),m=io("ws://mc.astraeffect.com:3000"),m.on("connect",async()=>{console.log("Connected to server"),console.log(`Sending identity (${[localStorage.getItem("generatedId"),localStorage.getItem("displayName")]}, ${xe})`),m.emit("identity",[e.generatedId,e.displayName,e.x,e.y,xe]);let p=document.getElementById("serverError");p.innerHTML="Connected to server 😄",p.style.backgroundColor="#00ff0088",await Se(1500),p.remove()}),m.on("message",p=>{console.log(`Message from server: ${p}`)}),m.on("error",p=>{console.log("Error from server"),E(p)}),m.on("disconnect",()=>{console.log("Disconnected from server"),F()}),m.on("playerConnect",p=>{console.log(`Player connected ${p}`),$(p)}),m.on("playerDisconnect",async p=>{console.log(`Player disconnected ${p}`),await Se(1),document.getElementById(p).remove()}),m.on("currentPlayers",p=>{p=new Map(JSON.parse(p)),p.forEach((w,B)=>{$(w)})}),m.on("position",p=>{let[w,B,q]=p;h[w].element.style.top=q+"px",h[w].element.style.left=B+"px"}),m.on("chat",p=>{let[w,B,q]=p;console.log(`${B}: ${q}`),T(w,B,q)})},re=(p,w)=>{p!=="position"&&console.log(`Sending ${p} with data ${w}`),m.emit(p,w)},Ae=()=>{console.log("Starting player update loop"),n=setInterval(W,e.speed)},z=()=>{console.log("Stopping player update loop"),clearInterval(n)},ve=async p=>{let w=document.getElementsByClassName("hotbarItemActive")[0];p<0?w.nextElementSibling!=null?(w.nextElementSibling.classList.add("hotbarItemActive"),w.classList.remove("hotbarItemActive"),w.nextElementSibling.classList.add("hotbarItemActive")):(w.classList.remove("hotbarItemActive"),document.getElementById("hotbarItem1").classList.add("hotbarItemActive")):w.previousElementSibling!=null?(w.classList.remove("hotbarItemActive"),w.previousElementSibling.classList.add("hotbarItemActive")):(w.classList.remove("hotbarItemActive"),document.getElementById("hotbarItem5").classList.add("hotbarItemActive"))},K=()=>{e={x:parseInt(localStorage.getItem("x"))||140,y:parseInt(localStorage.getItem("y"))||350,speed:1e3/60,avatar:localStorage.getItem("avatar"),avatarImage:`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png`,element:document.getElementById("player"),displayName:localStorage.getItem("displayName"),generatedId:localStorage.getItem("generatedId"),health:parseInt(localStorage.getItem("health"))||100,maxHealth:parseInt(localStorage.getItem("maxHealth"))||100,attack:parseInt(localStorage.getItem("attack"))||10,defence:parseInt(localStorage.getItem("defence"))||10,level:parseInt(localStorage.getItem("level"))||1,exp:parseInt(localStorage.getItem("exp"))||0,gold:parseInt(localStorage.getItem("gold"))||0,inventory:localStorage.getItem("inventory").split(", ")||null,equipped:{weapon:JSON.stringify(localStorage.getItem("equipped").weapon),armour:JSON.stringify(localStorage.getItem("equipped").armour),accessory:JSON.stringify(localStorage.getItem("equipped").accessory)}},e.maxExp=100*e.level};return document.body.onload=async()=>{if(console.log("Loading avatar assets"),await d(),localStorage.getItem("generatedId")===null)return o(0,l="login1");if(console.log("found id"),localStorage.getItem("avatar")===null)return o(0,l="login2");console.log("found avatar"),K(),o(0,l="home"),console.log("Checking for updates..."),fetch("https://api.github.com/repos/ahhhsaturn/shlay-desktop/releases/latest").then(p=>p.json()).then(p=>{p.tag_name!==xe&&E("You are not on the latest version! Latest version: "+p.tag_name+" Your version: "+xe+".")}).catch(p=>{console.error("Error:",p)}),await Se(1),e.element=document.getElementById("player"),e.element.style.top=e.y+"px",e.element.style.left=e.x+"px",e.element.style.pointerEvents="none",document.getElementById("healthText").innerHTML=`Health: ${e.health}/${e.maxHealth}`,document.getElementById("displayItem").innerHTML=document.getElementsByClassName("hotbarItemActive")[0].dataset.item,ee(),localStorage.getItem("musicStatus")=="playing"?r.play():r.pause(),console.log("Building objects");for(let p=0;p<u.length;p++)X(u[p]);console.log("Building objects complete"),document.addEventListener("wheel",p=>{p.preventDefault();let w=0;l==="home"&&a!==!0&&(p.wheelDelta?w=p.wheelDelta/120:p.detail&&(w=-p.detail/3),w&&ve(w))}),document.addEventListener("click",p=>{p.target.classList.contains("hotbarItem")&&(document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),p.target.classList.add("hotbarItemActive"),document.getElementById("displayItem").innerHTML=document.getElementsByClassName("hotbarItemActive")[0].dataset.item)}),document.oncontextmenu=()=>!1,document.addEventListener("mousedown",p=>{p.clientX,p.clientY,l==="home"&&a!==!0&&(p.button===0?A.lmb=!0:p.button===2?A.rmb=!0:p.button===1&&(p.preventDefault(),A.mmb=!0))}),document.addEventListener("mouseup",p=>{p.clientX,p.clientY,l==="home"&&a!==!0&&(p.button===0?delete A.lmb:p.button===2?delete A.rmb:p.button===1&&(p.preventDefault(),delete A.mmb))}),document.addEventListener("keydown",async p=>{if(l==="home"){if(p.key==="Escape"&&a===!0)return _();if(a!==!0){if(A[p.key]=!0,p.key===" ")switch(document.getElementsByClassName("hotbarItemActive")[0].dataset.item){case"Stick":console.log("Stab with stick");break;case"Leaf":if(document.querySelector('[data-item="Leaf"] > p').innerText<="1"&&(document.querySelector('[data-item="Leaf"] > p').innerText="",document.querySelectorAll('[data-item="Leaf"] > p')[0].innerHTML<="1"&&(document.querySelectorAll('[data-item="Leaf"] > img')[0].src="",document.querySelectorAll('[data-item="Leaf"] > img')[0].alt="",document.querySelectorAll('[data-item="Leaf"] > p')[0].innerHTML="",document.querySelectorAll('[data-item="Leaf"]')[0].setAttribute("data-item","null"))),e.health>=100)break;console.log("Consume leaf"),e.health+=5,document.querySelector('[data-item="Leaf"] > p').innerText=String(Number(document.querySelector('[data-item="Leaf"] > p').innerText)-1);break}p.key==="t"&&(document.querySelector(".chatInput").style.visibility="visible",await Se(1),document.getElementById("chatInput").focus(),setInterval(()=>{document.getElementById("chatInput")!==document.activeElement&&(document.querySelector(".chatInput").style.visibility="hidden")},5e3))}}}),document.addEventListener("keyup",p=>{delete A[p.key]}),Ae()},[l,a,s,c,f,_,v,I,x,D,z,p=>{if(p.detail.status==="play"){r.play();return}else if(p.detail.status==="pause"){r.pause();return}},p=>{r.volume(p.detail.volume)},()=>{v(),_()},p=>{p.preventDefault(),D(document.getElementById("chatInput").value)}]}class Pt extends me{constructor(t){super(),de(this,t,qt,Ft,ie,{},null,[-1,-1])}}new Pt({target:document.getElementById("app")});
