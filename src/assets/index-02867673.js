(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function o(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(l){if(l.ep)return;l.ep=!0;const s=o(l);fetch(l.href,s)}})();function L(){}function Ue(c){return c()}function qe(){return Object.create(null)}function J(c){c.forEach(Ue)}function Re(c){return typeof c=="function"}function ce(c,t){return c!=c?t==t:c!==t||c&&typeof c=="object"||typeof c=="function"}let Ae;function Be(c,t){return Ae||(Ae=document.createElement("a")),Ae.href=t,c===Ae.href}function Je(c){return Object.keys(c).length===0}function y(c,t){c.appendChild(t)}function k(c,t,o){c.insertBefore(t,o||null)}function S(c){c.parentNode&&c.parentNode.removeChild(c)}function b(c){return document.createElement(c)}function Ke(c){return document.createTextNode(c)}function E(){return Ke(" ")}function P(c,t,o,a){return c.addEventListener(t,o,a),()=>c.removeEventListener(t,o,a)}function g(c,t,o){o==null?c.removeAttribute(t):c.getAttribute(t)!==o&&c.setAttribute(t,o)}function je(c){return Array.from(c.childNodes)}function ie(c,t,o,a){o===null?c.style.removeProperty(t):c.style.setProperty(t,o,a?"important":"")}function et(c,t,{bubbles:o=!1,cancelable:a=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(c,o,a,t),l}let ge;function ve(c){ge=c}function tt(){if(!ge)throw new Error("Function called outside component initialization");return ge}function Te(){const c=tt();return(t,o,{cancelable:a=!1}={})=>{const l=c.$$.callbacks[t];if(l){const s=et(t,o,{cancelable:a});return l.slice().forEach(u=>{u.call(c,s)}),!s.defaultPrevented}return!0}}const se=[],Ge=[],Ee=[],Oe=[],nt=Promise.resolve();let De=!1;function ot(){De||(De=!0,nt.then(ze))}function $e(c){Ee.push(c)}const Ce=new Set;let le=0;function ze(){if(le!==0)return;const c=ge;do{try{for(;le<se.length;){const t=se[le];le++,ve(t),rt(t.$$)}}catch(t){throw se.length=0,le=0,t}for(ve(null),se.length=0,le=0;Ge.length;)Ge.pop()();for(let t=0;t<Ee.length;t+=1){const o=Ee[t];Ce.has(o)||(Ce.add(o),o())}Ee.length=0}while(se.length);for(;Oe.length;)Oe.pop()();De=!1,Ce.clear(),ve(c)}function rt(c){if(c.fragment!==null){c.update(),J(c.before_update);const t=c.dirty;c.dirty=[-1],c.fragment&&c.fragment.p(c.ctx,t),c.after_update.forEach($e)}}const xe=new Set;let oe;function ye(){oe={r:0,c:[],p:oe}}function be(){oe.r||J(oe.c),oe=oe.p}function G(c,t){c&&c.i&&(xe.delete(c),c.i(t))}function z(c,t,o,a){if(c&&c.o){if(xe.has(c))return;xe.add(c),oe.c.push(()=>{xe.delete(c),a&&(o&&c.d(1),a())}),c.o(t)}else a&&a()}function he(c){c&&c.c()}function ue(c,t,o,a){const{fragment:l,after_update:s}=c.$$;l&&l.m(t,o),a||$e(()=>{const u=c.$$.on_mount.map(Ue).filter(Re);c.$$.on_destroy?c.$$.on_destroy.push(...u):J(u),c.$$.on_mount=[]}),s.forEach($e)}function de(c,t){const o=c.$$;o.fragment!==null&&(J(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function at(c,t){c.$$.dirty[0]===-1&&(se.push(c),ot(),c.$$.dirty.fill(0)),c.$$.dirty[t/31|0]|=1<<t%31}function me(c,t,o,a,l,s,u,p=[-1]){const d=ge;ve(c);const _=c.$$={fragment:null,ctx:[],props:s,update:L,not_equal:l,bound:qe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:qe(),dirty:p,skip_bound:!1,root:t.target||d.$$.root};u&&u(_.root);let e=!1;if(_.ctx=o?o(c,t.props||{},(n,r,...i)=>{const m=i.length?i[0]:r;return _.ctx&&l(_.ctx[n],_.ctx[n]=m)&&(!_.skip_bound&&_.bound[n]&&_.bound[n](m),e&&at(c,n)),r}):[],_.update(),e=!0,J(_.before_update),_.fragment=a?a(_.ctx):!1,t.target){if(t.hydrate){const n=je(t.target);_.fragment&&_.fragment.l(n),n.forEach(S)}else _.fragment&&_.fragment.c();t.intro&&G(c.$$.fragment),ue(c,t.target,t.anchor,t.customElement),ze()}ve(d)}class pe{$destroy(){de(this,1),this.$destroy=L}$on(t,o){if(!Re(o))return L;const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(o),()=>{const l=a.indexOf(o);l!==-1&&a.splice(l,1)}}$set(t){this.$$set&&!Je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}let we;const lt=new Uint8Array(16);function st(){if(!we&&(we=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!we))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return we(lt)}var it=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ct(c){return typeof c=="string"&&it.test(c)}const q=[];for(let c=0;c<256;++c)q.push((c+256).toString(16).slice(1));function We(c,t=0){return(q[c[t+0]]+q[c[t+1]]+q[c[t+2]]+q[c[t+3]]+"-"+q[c[t+4]]+q[c[t+5]]+"-"+q[c[t+6]]+q[c[t+7]]+"-"+q[c[t+8]]+q[c[t+9]]+"-"+q[c[t+10]]+q[c[t+11]]+q[c[t+12]]+q[c[t+13]]+q[c[t+14]]+q[c[t+15]]).toLowerCase()}function ut(c){if(!ct(c))throw TypeError("Invalid UUID");let t;const o=new Uint8Array(16);return o[0]=(t=parseInt(c.slice(0,8),16))>>>24,o[1]=t>>>16&255,o[2]=t>>>8&255,o[3]=255&t,o[4]=(t=parseInt(c.slice(9,13),16))>>>8,o[5]=255&t,o[6]=(t=parseInt(c.slice(14,18),16))>>>8,o[7]=255&t,o[8]=(t=parseInt(c.slice(19,23),16))>>>8,o[9]=255&t,o[10]=(t=parseInt(c.slice(24,36),16))/1099511627776&255,o[11]=t/4294967296&255,o[12]=t>>>24&255,o[13]=t>>>16&255,o[14]=t>>>8&255,o[15]=255&t,o}function Ze(c,t,o){function a(l,s,u,p){var d;if(typeof l=="string"&&(l=function(e){e=unescape(encodeURIComponent(e));const n=[];for(let r=0;r<e.length;++r)n.push(e.charCodeAt(r));return n}(l)),typeof s=="string"&&(s=ut(s)),((d=s)===null||d===void 0?void 0:d.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let _=new Uint8Array(16+l.length);if(_.set(s),_.set(l,s.length),_=o(_),_[6]=15&_[6]|t,_[8]=63&_[8]|128,u){p=p||0;for(let e=0;e<16;++e)u[p+e]=_[e];return u}return We(_)}try{a.name=c}catch{}return a.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",a.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",a}function Ne(c){return 14+(c+64>>>9<<4)+1}function te(c,t){const o=(65535&c)+(65535&t);return(c>>16)+(t>>16)+(o>>16)<<16|65535&o}function Se(c,t,o,a,l,s){return te((u=te(te(t,c),te(a,s)))<<(p=l)|u>>>32-p,o);var u,p}function N(c,t,o,a,l,s,u){return Se(t&o|~t&a,c,t,l,s,u)}function F(c,t,o,a,l,s,u){return Se(t&a|o&~a,c,t,l,s,u)}function X(c,t,o,a,l,s,u){return Se(t^o^a,c,t,l,s,u)}function Y(c,t,o,a,l,s,u){return Se(o^(t|~a),c,t,l,s,u)}Ze("v3",48,function(c){if(typeof c=="string"){const t=unescape(encodeURIComponent(c));c=new Uint8Array(t.length);for(let o=0;o<t.length;++o)c[o]=t.charCodeAt(o)}return function(t){const o=[],a=32*t.length,l="0123456789abcdef";for(let s=0;s<a;s+=8){const u=t[s>>5]>>>s%32&255,p=parseInt(l.charAt(u>>>4&15)+l.charAt(15&u),16);o.push(p)}return o}(function(t,o){t[o>>5]|=128<<o%32,t[Ne(o)-1]=o;let a=1732584193,l=-271733879,s=-1732584194,u=271733878;for(let p=0;p<t.length;p+=16){const d=a,_=l,e=s,n=u;a=N(a,l,s,u,t[p],7,-680876936),u=N(u,a,l,s,t[p+1],12,-389564586),s=N(s,u,a,l,t[p+2],17,606105819),l=N(l,s,u,a,t[p+3],22,-1044525330),a=N(a,l,s,u,t[p+4],7,-176418897),u=N(u,a,l,s,t[p+5],12,1200080426),s=N(s,u,a,l,t[p+6],17,-1473231341),l=N(l,s,u,a,t[p+7],22,-45705983),a=N(a,l,s,u,t[p+8],7,1770035416),u=N(u,a,l,s,t[p+9],12,-1958414417),s=N(s,u,a,l,t[p+10],17,-42063),l=N(l,s,u,a,t[p+11],22,-1990404162),a=N(a,l,s,u,t[p+12],7,1804603682),u=N(u,a,l,s,t[p+13],12,-40341101),s=N(s,u,a,l,t[p+14],17,-1502002290),l=N(l,s,u,a,t[p+15],22,1236535329),a=F(a,l,s,u,t[p+1],5,-165796510),u=F(u,a,l,s,t[p+6],9,-1069501632),s=F(s,u,a,l,t[p+11],14,643717713),l=F(l,s,u,a,t[p],20,-373897302),a=F(a,l,s,u,t[p+5],5,-701558691),u=F(u,a,l,s,t[p+10],9,38016083),s=F(s,u,a,l,t[p+15],14,-660478335),l=F(l,s,u,a,t[p+4],20,-405537848),a=F(a,l,s,u,t[p+9],5,568446438),u=F(u,a,l,s,t[p+14],9,-1019803690),s=F(s,u,a,l,t[p+3],14,-187363961),l=F(l,s,u,a,t[p+8],20,1163531501),a=F(a,l,s,u,t[p+13],5,-1444681467),u=F(u,a,l,s,t[p+2],9,-51403784),s=F(s,u,a,l,t[p+7],14,1735328473),l=F(l,s,u,a,t[p+12],20,-1926607734),a=X(a,l,s,u,t[p+5],4,-378558),u=X(u,a,l,s,t[p+8],11,-2022574463),s=X(s,u,a,l,t[p+11],16,1839030562),l=X(l,s,u,a,t[p+14],23,-35309556),a=X(a,l,s,u,t[p+1],4,-1530992060),u=X(u,a,l,s,t[p+4],11,1272893353),s=X(s,u,a,l,t[p+7],16,-155497632),l=X(l,s,u,a,t[p+10],23,-1094730640),a=X(a,l,s,u,t[p+13],4,681279174),u=X(u,a,l,s,t[p],11,-358537222),s=X(s,u,a,l,t[p+3],16,-722521979),l=X(l,s,u,a,t[p+6],23,76029189),a=X(a,l,s,u,t[p+9],4,-640364487),u=X(u,a,l,s,t[p+12],11,-421815835),s=X(s,u,a,l,t[p+15],16,530742520),l=X(l,s,u,a,t[p+2],23,-995338651),a=Y(a,l,s,u,t[p],6,-198630844),u=Y(u,a,l,s,t[p+7],10,1126891415),s=Y(s,u,a,l,t[p+14],15,-1416354905),l=Y(l,s,u,a,t[p+5],21,-57434055),a=Y(a,l,s,u,t[p+12],6,1700485571),u=Y(u,a,l,s,t[p+3],10,-1894986606),s=Y(s,u,a,l,t[p+10],15,-1051523),l=Y(l,s,u,a,t[p+1],21,-2054922799),a=Y(a,l,s,u,t[p+8],6,1873313359),u=Y(u,a,l,s,t[p+15],10,-30611744),s=Y(s,u,a,l,t[p+6],15,-1560198380),l=Y(l,s,u,a,t[p+13],21,1309151649),a=Y(a,l,s,u,t[p+4],6,-145523070),u=Y(u,a,l,s,t[p+11],10,-1120210379),s=Y(s,u,a,l,t[p+2],15,718787259),l=Y(l,s,u,a,t[p+9],21,-343485551),a=te(a,d),l=te(l,_),s=te(s,e),u=te(u,n)}return[a,l,s,u]}(function(t){if(t.length===0)return[];const o=8*t.length,a=new Uint32Array(Ne(o));for(let l=0;l<o;l+=8)a[l>>5]|=(255&t[l/8])<<l%32;return a}(c),8*c.length))});var Fe={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function dt(c,t,o){if(Fe.randomUUID&&!t&&!c)return Fe.randomUUID();const a=(c=c||{}).random||(c.rng||st)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){o=o||0;for(let l=0;l<16;++l)t[o+l]=a[l];return t}return We(a)}function mt(c,t,o,a){switch(c){case 0:return t&o^~t&a;case 1:case 3:return t^o^a;case 2:return t&o^t&a^o&a}}function Le(c,t){return c<<t|c>>>32-t}Ze("v5",80,function(c){const t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof c=="string"){const u=unescape(encodeURIComponent(c));c=[];for(let p=0;p<u.length;++p)c.push(u.charCodeAt(p))}else Array.isArray(c)||(c=Array.prototype.slice.call(c));c.push(128);const a=c.length/4+2,l=Math.ceil(a/16),s=new Array(l);for(let u=0;u<l;++u){const p=new Uint32Array(16);for(let d=0;d<16;++d)p[d]=c[64*u+4*d]<<24|c[64*u+4*d+1]<<16|c[64*u+4*d+2]<<8|c[64*u+4*d+3];s[u]=p}s[l-1][14]=8*(c.length-1)/Math.pow(2,32),s[l-1][14]=Math.floor(s[l-1][14]),s[l-1][15]=8*(c.length-1)&4294967295;for(let u=0;u<l;++u){const p=new Uint32Array(80);for(let i=0;i<16;++i)p[i]=s[u][i];for(let i=16;i<80;++i)p[i]=Le(p[i-3]^p[i-8]^p[i-14]^p[i-16],1);let d=o[0],_=o[1],e=o[2],n=o[3],r=o[4];for(let i=0;i<80;++i){const m=Math.floor(i/20),f=Le(d,5)+mt(m,_,e,n)+r+t[m]+p[i]>>>0;r=n,n=e,e=Le(_,30)>>>0,_=d,d=f}o[0]=o[0]+d>>>0,o[1]=o[1]+_>>>0,o[2]=o[2]+e>>>0,o[3]=o[3]+n>>>0,o[4]=o[4]+r>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]});function pt(c){let t,o,a,l,s,u,p,d,_,e,n,r,i,m,f,h;return{c(){t=b("link"),o=E(),a=b("div"),l=b("div"),s=b("form"),u=b("input"),p=E(),d=b("p"),_=E(),e=b("input"),n=E(),r=b("button"),r.innerHTML='<span class="material-symbols-outlined svelte-11777yw">cancel</span>',i=E(),m=b("button"),m.innerHTML='<span class="material-symbols-outlined svelte-11777yw">arrow_forward_ios</span>',g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-11777yw"),g(u,"type","text"),g(u,"name","displayName"),g(u,"placeholder","Display Name"),g(u,"class","svelte-11777yw"),g(d,"id","err"),g(d,"class","svelte-11777yw"),g(e,"class","genId svelte-11777yw"),e.disabled=!0,g(e,"type","text"),g(e,"name","genId"),g(e,"placeholder","Generated Id"),g(r,"type","button"),g(r,"class","svelte-11777yw"),g(m,"type","submit"),g(m,"class","svelte-11777yw"),g(s,"class","svelte-11777yw"),g(l,"class","child svelte-11777yw"),g(a,"class","parent svelte-11777yw")},m(A,w){k(A,t,w),k(A,o,w),k(A,a,w),y(a,l),y(l,s),y(s,u),y(s,p),y(s,d),y(s,_),y(s,e),y(s,n),y(s,r),y(s,i),y(s,m),f||(h=[P(u,"input",c[1]),P(r,"click",c[2]),P(s,"submit",c[3])],f=!0)},p:L,i:L,o:L,d(A){A&&S(t),A&&S(o),A&&S(a),f=!1,J(h)}}}function ft(c){Te();const t=()=>{o()?(localStorage.setItem("displayName",document.querySelector('input[name="displayName"]').value),localStorage.setItem("generatedId",document.querySelector('input[name="genId"]').value),window.location.reload()):anime({targets:'input[name="displayName"]',keyframes:[{translateX:20},{translateX:-20},{translateX:20},{translateX:-20},{translateX:0}],easing:"easeInOutSine",duration:500,loop:1})},o=()=>{const s=document.querySelector('input[name="displayName"]').value;return s.length<3?(document.getElementById("err").innerHTML="More than 3 characters bbg",!1):s.length>20?(document.getElementById("err").innerHTML="Less than 20 characters bbg",!1):s.match(/[^a-zA-Z0-9_]/g)?(document.getElementById("err").innerHTML="Only letters, numbers and underscores bbg",!1):(document.getElementById("err").innerHTML="",document.querySelector('input[name="genId"]').value=dt(),!0)};return[t,o,()=>{window.close()},s=>{s.preventDefault(),t()}]}class _t extends pe{constructor(t){super(),me(this,t,ft,pt,ce,{})}}const vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAmwAAAEJCAYAAAApRHtRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAgkSURBVHgB7dtPbhv3Gcfhd0hKoohYdmG1dtrGaLxo1U3gLLpPbtAjtBsDPUXhG3hZIBvfoO4N3BsYXbmLtIbdtE4tIVLJUqQkkiUtFHGCIPCfAPNl9DwDCSRmFlzMvPzM/MDm15/cXhQAALE6BQBANMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwUAZBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEK5XwFvrb/drZ2enLrrZbFYH+wcFfFXCjJhOp3V0eFSsJ8EG34Gmaarb7RbAN0mYEWbUerMkCgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOF6BWtue7Bdg8Gg2tTtdgvIZEacmx5P68mjp0XVjb33at0INtbeahBubm4WwDcxI87Nz+Z1PDwu1pMlUQCAcIINACCcYAMACCfYAADCCTYAgHCCDQAgnGADAAgn2AAAwgk2AIBwgg0AIJxgAwAIJ9gAAMIJNgCAcIINACCcYAMACCfYAADCCTYAgHCCDQAgnGADAAgn2AAAwgk2AIBwgg0AIJxgAwAIJ9gAAMIJNgCAcIINACCcYAMACCfYAADCCTYAgHCCDQAgnGADAAjXK97Izs5Odbp6dzwe18n0pGjf6GhU//j0s2rTfDGvyfGk2vbuzevVNjPinBlx7nD/sJ49+bzadHZ6Vm3rLq+JH974UfH6BNsb6m/3lydety666XRaZFgN42dPnxUZwWZGnDMjzk3GE9fnUqfXrcu7O8Xrc/sHABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4XrvXHrnlQ+ez+c1/u+42rb/2UG1bXI0raZpqk3Xb1yr/qBfbepv9avb7Vabtja3qm2jo1Ht/6vd83IynlTbut1OXbn2g4L/S5gRK8PhsNq0WD4eufrjq3XRdXueE72p3qVLl1754NlsFhFsB/9sP9gOqv3PcGX3SvvBtt2v1XbRrYLt8V8f10XX6XVr9ye+lPhSwoxYxdpoOKpWLTvFtcHbkLoAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQrldr6PLVy0XVF8+/qMn4uNp0ZfdK9Qf9atPpyWmdnp1WmxbNwnm51Oll3AMe7R9V606qmk5Tbdp9d7d6G2s55oGvWcsr+frNa0XVk0dP63jYbrDtfbhX12+0G2yT6aRGw1G1quu8TPLs759X255V+5/h1mB7eVPlRgK+DyyJAgCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQLje4f7hKx88m81qPBxX2waXBkXV1mCrmuXWpk6vqel0Wm2anc0KXpYwIybjSc1n82rT6D+j5f9Ftak/6L/4A95O88vbH7V7Nb+BX/zq5wWQ7NO//K3Opmd10e19uFfXb1yrNg2HwxoNRwXrzJIoAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhOvVa9rY2igAvt3m5mY1y+2iazpNnZ2dVZsW80XBunutYFvF2s0P3i8Avt17ez8tquY1q+f/fl7A27EkCgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQTrABAIQTbAAA4QQbAEA4wQYAEE6wAQCEE2wAAOEEGwBAOMEGABBOsAEAhBNsAADhBBsAQDjBBgAQbhVsjwsAgFCLh6tgu18AAGRa1MPOolN/KgAAMs1O73Qe/eHBg+XLuwUAQJq793937/GLHx1sndSdpuphAQCQ4mH1Tu6sXrwItof3HhxuntTH5UkbAECCu8tY+/j+b+8drt40X9+795uPflYb9fumqVvLt7de3rextVE3P3i/AAD4jjX1uBZ1v1ks7v/x9id/fnnX/wBmHf6ADow02gAAAABJRU5ErkJggg==";function gt(c){let t,o,a,l,s,u,p,d,_,e,n,r,i,m,f,h,A,w,B,D,C,H,M,x,U,R,O,Q,$,W,re,ae,Z,K,j,ee,v,I,T,V,fe,Pe;return{c(){t=b("link"),o=E(),a=b("div"),l=b("div"),s=b("div"),u=b("h1"),u.textContent=`${localStorage.getItem("displayName")}`,p=E(),d=b("img"),e=E(),n=b("div"),r=b("img"),m=E(),f=b("img"),A=E(),w=b("div"),B=b("form"),D=b("div"),C=b("select"),H=b("option"),H.textContent="Avatar 1",M=b("option"),M.textContent="Avatar 2",x=b("option"),x.textContent="Avatar 3",U=E(),R=b("div"),O=b("select"),Q=b("option"),Q.textContent="Primary Ability 1",$=b("option"),$.textContent="Primary Ability 2",W=b("option"),W.textContent="Primary Ability 3",re=E(),ae=b("div"),Z=b("select"),K=b("option"),K.textContent="Secondary Ability 1",j=b("option"),j.textContent="Secondary Ability 2",ee=b("option"),ee.textContent="Secondary Ability 3",v=E(),I=b("button"),I.innerHTML='<span class="material-symbols-outlined svelte-3votgp">arrow_forward_ios</span>',T=E(),V=b("button"),V.innerHTML='<span class="material-symbols-outlined svelte-3votgp">arrow_forward_ios</span>',g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-3votgp"),g(u,"class","displayName svelte-3votgp"),g(d,"id","playerImage"),Be(d.src,_="https://cdn.astraeffect.com/avatars/avatar1/forwards.png")||g(d,"src",_),g(d,"alt","playerImage"),g(d,"class","svelte-3votgp"),g(s,"class","playerContainer svelte-3votgp"),g(r,"class","sky svelte-3votgp"),Be(r.src,i="https://astraeffect.com/img/sky.png")||g(r,"src",i),g(r,"alt","sky"),g(f,"class","ground svelte-3votgp"),Be(f.src,h=vt)||g(f,"src",h),g(f,"alt","ground"),g(n,"class","background svelte-3votgp"),g(l,"class","child svelte-3votgp"),H.__value="avatar1",H.value=H.__value,H.selected=!0,g(H,"class","svelte-3votgp"),M.__value="avatar2",M.value=M.__value,g(M,"class","svelte-3votgp"),x.__value="avatar3",x.value=x.__value,g(x,"class","svelte-3votgp"),g(C,"name","avatar"),g(C,"id","avatar"),g(C,"class","svelte-3votgp"),g(D,"class","avatarSelectParent svelte-3votgp"),Q.__value="primaryAbility1",Q.value=Q.__value,Q.selected=!0,g(Q,"class","svelte-3votgp"),$.__value="primaryAbility2",$.value=$.__value,g($,"class","svelte-3votgp"),W.__value="primaryAbility3",W.value=W.__value,g(W,"class","svelte-3votgp"),g(O,"name","primaryAbility"),g(O,"id","primaryAbility"),g(O,"class","svelte-3votgp"),g(R,"class","primaryAbilitySelectParent svelte-3votgp"),K.__value="secondaryAbility1",K.value=K.__value,K.selected=!0,g(K,"class","svelte-3votgp"),j.__value="secondaryAbility2",j.value=j.__value,g(j,"class","svelte-3votgp"),ee.__value="secondaryAbility3",ee.value=ee.__value,g(ee,"class","svelte-3votgp"),g(Z,"name","secondaryAbility"),g(Z,"id","secondaryAbility"),g(Z,"class","svelte-3votgp"),g(ae,"class","secondaryAbilitySelectParent svelte-3votgp"),g(I,"type","submit"),g(I,"class","forward svelte-3votgp"),g(V,"type","button"),g(V,"class","back svelte-3votgp"),g(B,"class","svelte-3votgp"),g(w,"class","child solidBack svelte-3votgp"),g(a,"class","parent svelte-3votgp")},m(ne,ke){k(ne,t,ke),k(ne,o,ke),k(ne,a,ke),y(a,l),y(l,s),y(s,u),y(s,p),y(s,d),y(l,e),y(l,n),y(n,r),y(n,m),y(n,f),y(a,A),y(a,w),y(w,B),y(B,D),y(D,C),y(C,H),y(C,M),y(C,x),y(B,U),y(B,R),y(R,O),y(O,Q),y(O,$),y(O,W),y(B,re),y(B,ae),y(ae,Z),y(Z,K),y(Z,j),y(Z,ee),y(B,v),y(B,I),y(B,T),y(B,V),fe||(Pe=[P(V,"click",c[1]),P(B,"input",c[4]),P(B,"submit",c[5])],fe=!0)},p:L,i:L,o:L,d(ne){ne&&S(t),ne&&S(o),ne&&S(a),fe=!1,J(Pe)}}}function ht(c){const t=d=>new Promise(_=>setTimeout(_,d)),o=()=>{localStorage.setItem("avatar",document.getElementById("avatar").value),localStorage.setItem("inventory","egg"),localStorage.setItem("equipped",'{"weapon":null,"armor":null,"accessory":null}'),localStorage.setItem("musicStatus","playing"),window.location.reload()},a=()=>{localStorage.clear(),window.location.reload()},l=()=>{const d=document.getElementById("avatar").value,_=document.getElementById("playerImage");_.src=`https://cdn.astraeffect.com/avatars/${d}/forwards.png`},s=async()=>{const d=document.getElementById("avatar").value,_=document.getElementById("playerImage");await t(1),_.src=`https://cdn.astraeffect.com/avatars/${d}/right.png`,setTimeout(()=>{_.src=`https://cdn.astraeffect.com/avatars/${d}/forwards.png`},1500)};return[o,a,l,s,()=>{s(),l()},d=>{d.preventDefault(),o()}]}class At extends pe{constructor(t){super(),me(this,t,ht,gt,ce,{})}}function yt(c){let t,o,a,l,s,u,p,d,_,e,n,r,i,m,f,h,A,w,B,D,C,H,M,x,U,R,O;return{c(){t=b("link"),o=E(),a=b("div"),l=b("div"),s=b("form"),u=b("input"),p=E(),d=b("p"),_=E(),e=b("input"),n=E(),r=b("div"),i=b("button"),i.innerHTML='<span class="material-symbols-outlined svelte-4qbqcc">play_pause</span>',m=E(),f=b("input"),h=E(),A=b("button"),A.textContent="Controls",w=E(),B=b("button"),B.textContent="Credits",D=E(),C=b("button"),C.textContent="Slay my account away",H=E(),M=b("button"),M.textContent="Leave Game",x=E(),U=b("button"),U.textContent="Save",g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-4qbqcc"),g(u,"class","disabled svelte-4qbqcc"),u.disabled=!0,g(u,"type","text"),g(u,"name","displayName"),u.value=localStorage.getItem("displayName"),g(d,"id","err"),g(d,"class","svelte-4qbqcc"),g(e,"class","disabled genId svelte-4qbqcc"),e.disabled=!0,g(e,"type","text"),g(e,"name","genId"),e.value=localStorage.getItem("generatedId"),g(i,"id","pausePlay"),g(i,"class","pausePlay svelte-4qbqcc"),g(i,"type","button"),g(f,"type","range"),g(f,"min","0"),g(f,"max","100"),f.value=localStorage.getItem("musicVolume")*100||50,g(f,"class","volumeSlider svelte-4qbqcc"),g(f,"id","volume"),g(r,"class","musicControls svelte-4qbqcc"),g(A,"class","settingsButton svelte-4qbqcc"),g(A,"type","button"),g(B,"class","settingsButton svelte-4qbqcc"),g(B,"type","button"),g(C,"class","removeAccountButton svelte-4qbqcc"),g(C,"type","button"),g(M,"class","closeButton svelte-4qbqcc"),g(M,"type","button"),g(U,"class","leaveButton svelte-4qbqcc"),g(U,"type","submit"),g(s,"class","svelte-4qbqcc"),g(l,"class","child svelte-4qbqcc"),g(a,"class","parent svelte-4qbqcc")},m(Q,$){k(Q,t,$),k(Q,o,$),k(Q,a,$),y(a,l),y(l,s),y(s,u),y(s,p),y(s,d),y(s,_),y(s,e),y(s,n),y(s,r),y(r,i),y(r,m),y(r,f),y(s,h),y(s,A),y(s,w),y(s,B),y(s,D),y(s,C),y(s,H),y(s,M),y(s,x),y(s,U),R||(O=[P(i,"click",c[1]),P(f,"input",c[2]),P(A,"click",c[6]),P(B,"click",c[7]),P(C,"click",c[5]),P(M,"click",c[4]),P(s,"submit",c[8])],R=!0)},p:L,i:L,o:L,d(Q){Q&&S(t),Q&&S(o),Q&&S(a),R=!1,J(O)}}}function bt(c){const t=Te();let o=localStorage.getItem("musicStatus");const a=()=>{if(o==="playing"){o="paused",localStorage.setItem("musicStatus","paused"),document.getElementById("pausePlay").innerHTML='<span class="material-symbols-outlined">play_arrow</span>',t("pausePlay",{status:"pause"});return}else if(o==="paused"){o="playing",localStorage.setItem("musicStatus","playing"),document.getElementById("pausePlay").innerHTML='<span class="material-symbols-outlined">pause</span>',t("pausePlay",{status:"play"});return}},l=()=>{localStorage.setItem("musicVolume",document.getElementById("volume").value/100);const n=document.getElementById("volume");t("volume",{volume:n.value/100})},s=n=>{n?(console.log("Saving Settings"),t("close","true")):(console.log("Not Saving Settings"),t("close","true"))};return[t,a,l,s,()=>{Swal.fire({title:"You sure?",text:"Due to this only being in alpha your data might not save.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, close"}).then(n=>{if(n.isConfirmed)window.close();else return})},()=>{Swal.fire({title:"You sure honey booboo?",text:"You can't unkill her ðŸ˜˜",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yess bbg, kill that mofo ðŸ—¡ï¸"}).then(n=>{n.isConfirmed?(t("stopPlayerUpdateLoop",!0),localStorage.clear(),Swal.fire("Deleted!","That bitch is dead ðŸ’€","success").then(()=>{window.location.reload()})):Swal.fire("Cancelled","Your account is safe... for now ðŸ”ª","error")})},()=>{t("openControls",!0)},()=>{window.open("https://astraeffect.com/shlay/credits","_tauri")},n=>{n.preventDefault(),s(!0)}]}class wt extends pe{constructor(t){super(),me(this,t,bt,yt,ce,{})}}function It(c){let t,o,a,l,s,u,p;return{c(){t=b("link"),o=E(),a=b("div"),l=b("div"),s=b("button"),s.textContent="Close this bitch",g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-nx5t8l"),g(s,"class","leaveButton svelte-nx5t8l"),g(s,"type","submit"),g(l,"class","child svelte-nx5t8l"),g(a,"class","parent svelte-nx5t8l")},m(d,_){k(d,t,_),k(d,o,_),k(d,a,_),y(a,l),y(l,s),u||(p=P(s,"click",c[0]),u=!0)},p:L,i:L,o:L,d(d){d&&S(t),d&&S(o),d&&S(a),u=!1,p()}}}function Bt(c){const t=Te();return[()=>{console.log("Closing controls"),t("close","true")}]}class Et extends pe{constructor(t){super(),me(this,t,Bt,It,ce,{})}}function xt(c){let t,o,a,l,s,u,p,d,_,e,n,r,i,m,f,h;return{c(){t=b("link"),o=E(),a=b("div"),l=b("div"),s=b("h1"),s.textContent="Debug Controls",u=E(),p=b("form"),d=b("label"),d.textContent="Health",_=E(),e=b("input"),n=E(),r=b("button"),r.innerHTML='<span class="material-symbols-outlined svelte-qbpl07">done</span>',i=E(),m=b("button"),m.textContent="Close this bitch",g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(t,"class","svelte-qbpl07"),g(s,"class","svelte-qbpl07"),g(d,"for","healthInput"),g(d,"class","svelte-qbpl07"),g(e,"type","number"),g(e,"id","healthInput"),g(e,"name","healthInput"),g(e,"min","0"),g(e,"max","100"),e.value=localStorage.getItem("health"),g(e,"class","svelte-qbpl07"),g(r,"type","submit"),g(r,"class","svelte-qbpl07"),g(p,"class","svelte-qbpl07"),g(m,"class","leaveButton svelte-qbpl07"),g(m,"type","button"),g(l,"class","child svelte-qbpl07"),g(a,"class","parent svelte-qbpl07")},m(A,w){k(A,t,w),k(A,o,w),k(A,a,w),y(a,l),y(l,s),y(l,u),y(l,p),y(p,d),y(p,_),y(p,e),y(p,n),y(p,r),y(l,i),y(l,m),f||(h=[P(p,"submit",c[2]),P(m,"click",c[0])],f=!0)},p:L,i:L,o:L,d(A){A&&S(t),A&&S(o),A&&S(a),f=!1,J(h)}}}function Tt(c){const t=Te(),o=()=>{console.log("Closing debug"),t("close","true")},a=()=>{console.log("Applying changes"),localStorage.setItem("health",document.getElementById("healthInput").value)};return[o,a,s=>{s.preventDefault(),a(),o()}]}class St extends pe{constructor(t){super(),me(this,t,Tt,xt,ce,{})}}var Me,_e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},He={};Me=He,function(){var c=function(){this.init()};c.prototype={init:function(){var e=this||t;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window<"u"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var n=this||t;if(e=parseFloat(e),n.ctx||_(),e!==void 0&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e,t.ctx.currentTime);for(var r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var i=n._howls[r]._getSoundIds(),m=0;m<i.length;m++){var f=n._howls[r]._soundById(i[m]);f&&f._node&&(f._node.volume=f._volume*e)}return n}return n._volume},mute:function(e){var n=this||t;n.ctx||_(),n._muted=e,n.usingWebAudio&&n.masterGain.gain.setValueAtTime(e?0:n._volume,t.ctx.currentTime);for(var r=0;r<n._howls.length;r++)if(!n._howls[r]._webAudio)for(var i=n._howls[r]._getSoundIds(),m=0;m<i.length;m++){var f=n._howls[r]._soundById(i[m]);f&&f._node&&(f._node.muted=!!e||f._muted)}return n},stop:function(){for(var e=this||t,n=0;n<e._howls.length;n++)e._howls[n].stop();return e},unload:function(){for(var e=this||t,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&e.ctx.close!==void 0&&(e.ctx.close(),e.ctx=null,_()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio<"u")try{new Audio().oncanplaythrough===void 0&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{new Audio().muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,n=null;try{n=typeof Audio<"u"?new Audio:null}catch{return e}if(!n||typeof n.canPlayType!="function")return e;var r=n.canPlayType("audio/mpeg;").replace(/^no$/,""),i=e._navigator?e._navigator.userAgent:"",m=i.match(/OPR\/([0-6].)/g),f=m&&parseInt(m[0].split("/")[1],10)<33,h=i.indexOf("Safari")!==-1&&i.indexOf("Chrome")===-1,A=i.match(/Version\/(.*?) /),w=h&&A&&parseInt(A[1],10)<15;return e._codecs={mp3:!(f||!r&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!r,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(n.canPlayType('audio/wav; codecs="1"')||n.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(n.canPlayType("audio/x-m4b;")||n.canPlayType("audio/m4b;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(w||!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(w||!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||t;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||e.ctx.sampleRate===44100||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var n=function(r){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var i=new Audio;i._unlocked=!0,e._releaseHtml5Audio(i)}catch{e.noAudio=!0;break}for(var m=0;m<e._howls.length;m++)if(!e._howls[m]._webAudio)for(var f=e._howls[m]._getSoundIds(),h=0;h<f.length;h++){var A=e._howls[m]._soundById(f[h]);A&&A._node&&!A._node._unlocked&&(A._node._unlocked=!0,A._node.load())}e._autoResume();var w=e.ctx.createBufferSource();w.buffer=e._scratchBuffer,w.connect(e.ctx.destination),w.start===void 0?w.noteOn(0):w.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),w.onended=function(){w.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",n,!0),document.removeEventListener("touchend",n,!0),document.removeEventListener("click",n,!0),document.removeEventListener("keydown",n,!0);for(var B=0;B<e._howls.length;B++)e._howls[B]._emit("unlock")}};return document.addEventListener("touchstart",n,!0),document.addEventListener("touchend",n,!0),document.addEventListener("click",n,!0),document.addEventListener("keydown",n,!0),e}},_obtainHtml5Audio:function(){var e=this||t;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var n=new Audio().play();return n&&typeof Promise<"u"&&(n instanceof Promise||typeof n.then=="function")&&n.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var n=this||t;return e._unlocked&&n._html5AudioPool.push(e),n},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&e.ctx.suspend!==void 0&&t.usingWebAudio){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio){for(var r=0;r<e._howls[n]._sounds.length;r++)if(!e._howls[n]._sounds[r]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var i=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(i,i)}},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&e.ctx.resume!==void 0&&t.usingWebAudio)return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var t=new c,o=function(e){e.src&&e.src.length!==0?this.init(e):console.error("An array of source files must be passed with any new Howl.")};o.prototype={init:function(e){var n=this;return t.ctx||_(),n._autoplay=e.autoplay||!1,n._format=typeof e.format!="string"?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload=typeof e.preload!="boolean"&&e.preload!=="metadata"||e.preload,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src=typeof e.src!="string"?e.src:[e.src],n._volume=e.volume!==void 0?e.volume:1,n._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._playLock=!1,n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onunlock=e.onunlock?[{fn:e.onunlock}]:[],n._onresume=[],n._webAudio=t.usingWebAudio&&!n._html5,t.ctx!==void 0&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n._preload!=="none"&&n.load(),n},load:function(){var e=this,n=null;if(t.noAudio)e._emit("loaderror",null,"No audio support.");else{typeof e._src=="string"&&(e._src=[e._src]);for(var r=0;r<e._src.length;r++){var i,m;if(e._format&&e._format[r])i=e._format[r];else{if(typeof(m=e._src[r])!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(i=/^data:audio\/([^;,]+);/i.exec(m))||(i=/\.([^.]+)$/.exec(m.split("?",1)[0])),i&&(i=i[1].toLowerCase())}if(i||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),i&&t.codecs(i)){n=e._src[r];break}}if(n)return e._src=n,e._state="loading",window.location.protocol==="https:"&&n.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&s(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,n){var r=this,i=null;if(typeof e=="number")i=e,e=null;else{if(typeof e=="string"&&r._state==="loaded"&&!r._sprite[e])return null;if(e===void 0&&(e="__default",!r._playLock)){for(var m=0,f=0;f<r._sounds.length;f++)r._sounds[f]._paused&&!r._sounds[f]._ended&&(m++,i=r._sounds[f]._id);m===1?e=null:i=null}}var h=i?r._soundById(i):r._inactiveSound();if(!h)return null;if(i&&!e&&(e=h._sprite||"__default"),r._state!=="loaded"){h._sprite=e,h._ended=!1;var A=h._id;return r._queue.push({event:"play",action:function(){r.play(A)}}),A}if(i&&!h._paused)return n||r._loadQueue("play"),h._id;r._webAudio&&t._autoResume();var w=Math.max(0,h._seek>0?h._seek:r._sprite[e][0]/1e3),B=Math.max(0,(r._sprite[e][0]+r._sprite[e][1])/1e3-w),D=1e3*B/Math.abs(h._rate),C=r._sprite[e][0]/1e3,H=(r._sprite[e][0]+r._sprite[e][1])/1e3;h._sprite=e,h._ended=!1;var M=function(){h._paused=!1,h._seek=w,h._start=C,h._stop=H,h._loop=!(!h._loop&&!r._sprite[e][2])};if(!(w>=H)){var x=h._node;if(r._webAudio){var U=function(){r._playLock=!1,M(),r._refreshBuffer(h);var $=h._muted||r._muted?0:h._volume;x.gain.setValueAtTime($,t.ctx.currentTime),h._playStart=t.ctx.currentTime,x.bufferSource.start===void 0?h._loop?x.bufferSource.noteGrainOn(0,w,86400):x.bufferSource.noteGrainOn(0,w,B):h._loop?x.bufferSource.start(0,w,86400):x.bufferSource.start(0,w,B),D!==1/0&&(r._endTimers[h._id]=setTimeout(r._ended.bind(r,h),D)),n||setTimeout(function(){r._emit("play",h._id),r._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?U():(r._playLock=!0,r.once("resume",U),r._clearTimer(h._id))}else{var R=function(){x.currentTime=w,x.muted=h._muted||r._muted||t._muted||x.muted,x.volume=h._volume*t.volume(),x.playbackRate=h._rate;try{var $=x.play();if($&&typeof Promise<"u"&&($ instanceof Promise||typeof $.then=="function")?(r._playLock=!0,M(),$.then(function(){r._playLock=!1,x._unlocked=!0,n?r._loadQueue():r._emit("play",h._id)}).catch(function(){r._playLock=!1,r._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),h._ended=!0,h._paused=!0})):n||(r._playLock=!1,M(),r._emit("play",h._id)),x.playbackRate=h._rate,x.paused)return void r._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");e!=="__default"||h._loop?r._endTimers[h._id]=setTimeout(r._ended.bind(r,h),D):(r._endTimers[h._id]=function(){r._ended(h),x.removeEventListener("ended",r._endTimers[h._id],!1)},x.addEventListener("ended",r._endTimers[h._id],!1))}catch(W){r._emit("playerror",h._id,W)}};x.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(x.src=r._src,x.load());var O=window&&window.ejecta||!x.readyState&&t._navigator.isCocoonJS;if(x.readyState>=3||O)R();else{r._playLock=!0,r._state="loading";var Q=function(){r._state="loaded",R(),x.removeEventListener(t._canPlayEvent,Q,!1)};x.addEventListener(t._canPlayEvent,Q,!1),r._clearTimer(h._id)}}return h._id}r._ended(h)},pause:function(e){var n=this;if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"pause",action:function(){n.pause(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var m=n._soundById(r[i]);if(m&&!m._paused&&(m._seek=n.seek(r[i]),m._rateSeek=0,m._paused=!0,n._stopFade(r[i]),m._node))if(n._webAudio){if(!m._node.bufferSource)continue;m._node.bufferSource.stop===void 0?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),n._cleanBuffer(m._node)}else isNaN(m._node.duration)&&m._node.duration!==1/0||m._node.pause();arguments[1]||n._emit("pause",m?m._id:null)}return n},stop:function(e,n){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"stop",action:function(){r.stop(e)}}),r;for(var i=r._getSoundIds(e),m=0;m<i.length;m++){r._clearTimer(i[m]);var f=r._soundById(i[m]);f&&(f._seek=f._start||0,f._rateSeek=0,f._paused=!0,f._ended=!0,r._stopFade(i[m]),f._node&&(r._webAudio?f._node.bufferSource&&(f._node.bufferSource.stop===void 0?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),r._cleanBuffer(f._node)):isNaN(f._node.duration)&&f._node.duration!==1/0||(f._node.currentTime=f._start||0,f._node.pause(),f._node.duration===1/0&&r._clearSound(f._node))),n||r._emit("stop",f._id))}return r},mute:function(e,n){var r=this;if(r._state!=="loaded"||r._playLock)return r._queue.push({event:"mute",action:function(){r.mute(e,n)}}),r;if(n===void 0){if(typeof e!="boolean")return r._muted;r._muted=e}for(var i=r._getSoundIds(n),m=0;m<i.length;m++){var f=r._soundById(i[m]);f&&(f._muted=e,f._interval&&r._stopFade(f._id),r._webAudio&&f._node?f._node.gain.setValueAtTime(e?0:f._volume,t.ctx.currentTime):f._node&&(f._node.muted=!!t._muted||e),r._emit("mute",f._id))}return r},volume:function(){var e,n,r,i=this,m=arguments;if(m.length===0)return i._volume;if(m.length===1||m.length===2&&m[1]===void 0){var f=i._getSoundIds(),h=f.indexOf(m[0]);h>=0?n=parseInt(m[0],10):e=parseFloat(m[0])}else m.length>=2&&(e=parseFloat(m[0]),n=parseInt(m[1],10));if(!(e!==void 0&&e>=0&&e<=1))return(r=n?i._soundById(n):i._sounds[0])?r._volume:0;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,m)}}),i;n===void 0&&(i._volume=e),n=i._getSoundIds(n);for(var A=0;A<n.length;A++)(r=i._soundById(n[A]))&&(r._volume=e,m[2]||i._stopFade(n[A]),i._webAudio&&r._node&&!r._muted?r._node.gain.setValueAtTime(e,t.ctx.currentTime):r._node&&!r._muted&&(r._node.volume=e*t.volume()),i._emit("volume",r._id));return i},fade:function(e,n,r,i){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"fade",action:function(){m.fade(e,n,r,i)}}),m;e=Math.min(Math.max(0,parseFloat(e)),1),n=Math.min(Math.max(0,parseFloat(n)),1),r=parseFloat(r),m.volume(e,i);for(var f=m._getSoundIds(i),h=0;h<f.length;h++){var A=m._soundById(f[h]);if(A){if(i||m._stopFade(f[h]),m._webAudio&&!A._muted){var w=t.ctx.currentTime,B=w+r/1e3;A._volume=e,A._node.gain.setValueAtTime(e,w),A._node.gain.linearRampToValueAtTime(n,B)}m._startFadeInterval(A,e,n,r,f[h],i===void 0)}}return m},_startFadeInterval:function(e,n,r,i,m,f){var h=this,A=n,w=r-n,B=Math.abs(w/.01),D=Math.max(4,B>0?i/B:i),C=Date.now();e._fadeTo=r,e._interval=setInterval(function(){var H=(Date.now()-C)/i;C=Date.now(),A+=w*H,A=Math.round(100*A)/100,A=w<0?Math.max(r,A):Math.min(r,A),h._webAudio?e._volume=A:h.volume(A,e._id,!0),f&&(h._volume=A),(r<n&&A<=r||r>n&&A>=r)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,h.volume(r,e._id),h._emit("fade",e._id))},D)},_stopFade:function(e){var n=this,r=n._soundById(e);return r&&r._interval&&(n._webAudio&&r._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(r._interval),r._interval=null,n.volume(r._fadeTo,e),r._fadeTo=null,n._emit("fade",e)),n},loop:function(){var e,n,r,i=this,m=arguments;if(m.length===0)return i._loop;if(m.length===1){if(typeof m[0]!="boolean")return!!(r=i._soundById(parseInt(m[0],10)))&&r._loop;e=m[0],i._loop=e}else m.length===2&&(e=m[0],n=parseInt(m[1],10));for(var f=i._getSoundIds(n),h=0;h<f.length;h++)(r=i._soundById(f[h]))&&(r._loop=e,i._webAudio&&r._node&&r._node.bufferSource&&(r._node.bufferSource.loop=e,e&&(r._node.bufferSource.loopStart=r._start||0,r._node.bufferSource.loopEnd=r._stop,i.playing(f[h])&&(i.pause(f[h],!0),i.play(f[h],!0)))));return i},rate:function(){var e,n,r,i=this,m=arguments;if(m.length===0)n=i._sounds[0]._id;else if(m.length===1){var f=i._getSoundIds(),h=f.indexOf(m[0]);h>=0?n=parseInt(m[0],10):e=parseFloat(m[0])}else m.length===2&&(e=parseFloat(m[0]),n=parseInt(m[1],10));if(typeof e!="number")return(r=i._soundById(n))?r._rate:i._rate;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,m)}}),i;n===void 0&&(i._rate=e),n=i._getSoundIds(n);for(var A=0;A<n.length;A++)if(r=i._soundById(n[A])){i.playing(n[A])&&(r._rateSeek=i.seek(n[A]),r._playStart=i._webAudio?t.ctx.currentTime:r._playStart),r._rate=e,i._webAudio&&r._node&&r._node.bufferSource?r._node.bufferSource.playbackRate.setValueAtTime(e,t.ctx.currentTime):r._node&&(r._node.playbackRate=e);var w=i.seek(n[A]),B=(i._sprite[r._sprite][0]+i._sprite[r._sprite][1])/1e3-w,D=1e3*B/Math.abs(r._rate);!i._endTimers[n[A]]&&r._paused||(i._clearTimer(n[A]),i._endTimers[n[A]]=setTimeout(i._ended.bind(i,r),D)),i._emit("rate",r._id)}return i},seek:function(){var e,n,r=this,i=arguments;if(i.length===0)r._sounds.length&&(n=r._sounds[0]._id);else if(i.length===1){var m=r._getSoundIds(),f=m.indexOf(i[0]);f>=0?n=parseInt(i[0],10):r._sounds.length&&(n=r._sounds[0]._id,e=parseFloat(i[0]))}else i.length===2&&(e=parseFloat(i[0]),n=parseInt(i[1],10));if(n===void 0)return 0;if(typeof e=="number"&&(r._state!=="loaded"||r._playLock))return r._queue.push({event:"seek",action:function(){r.seek.apply(r,i)}}),r;var h=r._soundById(n);if(h){if(!(typeof e=="number"&&e>=0)){if(r._webAudio){var A=r.playing(n)?t.ctx.currentTime-h._playStart:0,w=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(w+A*Math.abs(h._rate))}return h._node.currentTime}var B=r.playing(n);B&&r.pause(n,!0),h._seek=e,h._ended=!1,r._clearTimer(n),r._webAudio||!h._node||isNaN(h._node.duration)||(h._node.currentTime=e);var D=function(){B&&r.play(n,!0),r._emit("seek",n)};if(B&&!r._webAudio){var C=function(){r._playLock?setTimeout(C,0):D()};setTimeout(C,0)}else D()}return r},playing:function(e){var n=this;if(typeof e=="number"){var r=n._soundById(e);return!!r&&!r._paused}for(var i=0;i<n._sounds.length;i++)if(!n._sounds[i]._paused)return!0;return!1},duration:function(e){var n=this,r=n._duration,i=n._soundById(e);return i&&(r=n._sprite[i._sprite][1]/1e3),r},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,r=0;r<n.length;r++)n[r]._paused||e.stop(n[r]._id),e._webAudio||(e._clearSound(n[r]._node),n[r]._node.removeEventListener("error",n[r]._errorFn,!1),n[r]._node.removeEventListener(t._canPlayEvent,n[r]._loadFn,!1),n[r]._node.removeEventListener("ended",n[r]._endFn,!1),t._releaseHtml5Audio(n[r]._node)),delete n[r]._node,e._clearTimer(n[r]._id);var i=t._howls.indexOf(e);i>=0&&t._howls.splice(i,1);var m=!0;for(r=0;r<t._howls.length;r++)if(t._howls[r]._src===e._src||e._src.indexOf(t._howls[r]._src)>=0){m=!1;break}return l&&m&&delete l[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,n,r,i){var m=this["_on"+e];return typeof n=="function"&&m.push(i?{id:r,fn:n,once:i}:{id:r,fn:n}),this},off:function(e,n,r){var i=this,m=i["_on"+e],f=0;if(typeof n=="number"&&(r=n,n=null),n||r)for(f=0;f<m.length;f++){var h=r===m[f].id;if(n===m[f].fn&&h||!n&&h){m.splice(f,1);break}}else if(e)i["_on"+e]=[];else{var A=Object.keys(i);for(f=0;f<A.length;f++)A[f].indexOf("_on")===0&&Array.isArray(i[A[f]])&&(i[A[f]]=[])}return i},once:function(e,n,r){return this.on(e,n,r,1),this},_emit:function(e,n,r){for(var i=this,m=i["_on"+e],f=m.length-1;f>=0;f--)m[f].id&&m[f].id!==n&&e!=="load"||(setTimeout(function(h){h.call(this,n,r)}.bind(i,m[f].fn),0),m[f].once&&i.off(e,m[f].fn,m[f].id));return i._loadQueue(e),i},_loadQueue:function(e){var n=this;if(n._queue.length>0){var r=n._queue[0];r.event===e&&(n._queue.shift(),n._loadQueue()),e||r.action()}return n},_ended:function(e){var n=this,r=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(n._ended.bind(n,e),100),n;var i=!(!e._loop&&!n._sprite[r][2]);if(n._emit("end",e._id),!n._webAudio&&i&&n.stop(e._id,!0).play(e._id),n._webAudio&&i){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var m=1e3*(e._stop-e._start)/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),m)}return n._webAudio&&!i&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),t._autoSuspend()),n._webAudio||i||n.stop(e._id,!0),n},_clearTimer:function(e){var n=this;if(n._endTimers[e]){if(typeof n._endTimers[e]!="function")clearTimeout(n._endTimers[e]);else{var r=n._soundById(e);r&&r._node&&r._node.removeEventListener("ended",n._endTimers[e],!1)}delete n._endTimers[e]}return n},_soundById:function(e){for(var n=this,r=0;r<n._sounds.length;r++)if(e===n._sounds[r]._id)return n._sounds[r];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new a(e)},_drain:function(){var e=this,n=e._pool,r=0,i=0;if(!(e._sounds.length<n)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&r++;for(i=e._sounds.length-1;i>=0;i--){if(r<=n)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),r--)}}},_getSoundIds:function(e){if(e===void 0){for(var n=[],r=0;r<this._sounds.length;r++)n.push(this._sounds[r]._id);return n}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,t.ctx.currentTime),this},_cleanBuffer:function(e){var n=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),n))try{e.bufferSource.buffer=t._scratchBuffer}catch{}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,r=t._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node=t.ctx.createGain===void 0?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(r,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):t.noAudio||(e._node=t._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=n._src,e._node.preload=n._preload===!0?"auto":n._preload,e._node.volume=r*t.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(10*e._node.duration)/10,Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,1e3*n._duration]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,n=e._parent;n._duration===1/0&&(n._duration=Math.ceil(10*e._node.duration)/10,n._sprite.__default[1]===1/0&&(n._sprite.__default[1]=1e3*n._duration),n._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},s=function(e){var n=e._src;if(l[n])return e._duration=l[n].duration,void d(e);if(/^data:[^;]+;base64,/.test(n)){for(var r=atob(n.split(",")[1]),i=new Uint8Array(r.length),m=0;m<r.length;++m)i[m]=r.charCodeAt(m);p(i.buffer,e)}else{var f=new XMLHttpRequest;f.open(e._xhr.method,n,!0),f.withCredentials=e._xhr.withCredentials,f.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(h){f.setRequestHeader(h,e._xhr.headers[h])}),f.onload=function(){var h=(f.status+"")[0];h==="0"||h==="2"||h==="3"?p(f.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+f.status+".")},f.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[n],e.load())},u(f)}},u=function(e){try{e.send()}catch{e.onerror()}},p=function(e,n){var r=function(){n._emit("loaderror",null,"Decoding audio data failed.")},i=function(m){m&&n._sounds.length>0?(l[n._src]=m,d(n,m)):r()};typeof Promise<"u"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(e).then(i).catch(r):t.ctx.decodeAudioData(e,i,r)},d=function(e,n){n&&!e._duration&&(e._duration=n.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,1e3*e._duration]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},_=function(){if(t.usingWebAudio){try{typeof AudioContext<"u"?t.ctx=new AudioContext:typeof webkitAudioContext<"u"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),n=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),r=n?parseInt(n[1],10):null;if(e&&r&&r<9){var i=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!i&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=t.ctx.createGain===void 0?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};Me.Howler=t,Me.Howl=o,_e!==void 0?(_e.HowlerGlobal=c,_e.Howler=t,_e.Howl=o,_e.Sound=a):typeof window<"u"&&(window.HowlerGlobal=c,window.Howler=t,window.Howl=o,window.Sound=a)}(),function(){var c;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(o){var a=this;if(!a.ctx||!a.ctx.listener)return a;for(var l=a._howls.length-1;l>=0;l--)a._howls[l].stereo(o);return a},HowlerGlobal.prototype.pos=function(o,a,l){var s=this;return s.ctx&&s.ctx.listener?(a=typeof a!="number"?s._pos[1]:a,l=typeof l!="number"?s._pos[2]:l,typeof o!="number"?s._pos:(s._pos=[o,a,l],s.ctx.listener.positionX!==void 0?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]),s)):s},HowlerGlobal.prototype.orientation=function(o,a,l,s,u,p){var d=this;if(!d.ctx||!d.ctx.listener)return d;var _=d._orientation;return a=typeof a!="number"?_[1]:a,l=typeof l!="number"?_[2]:l,s=typeof s!="number"?_[3]:s,u=typeof u!="number"?_[4]:u,p=typeof p!="number"?_[5]:p,typeof o!="number"?_:(d._orientation=[o,a,l,s,u,p],d.ctx.listener.forwardX!==void 0?(d.ctx.listener.forwardX.setTargetAtTime(o,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(a,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(l,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(o,a,l,s,u,p),d)},Howl.prototype.init=(c=Howl.prototype.init,function(o){var a=this;return a._orientation=o.orientation||[1,0,0],a._stereo=o.stereo||null,a._pos=o.pos||null,a._pannerAttr={coneInnerAngle:o.coneInnerAngle!==void 0?o.coneInnerAngle:360,coneOuterAngle:o.coneOuterAngle!==void 0?o.coneOuterAngle:360,coneOuterGain:o.coneOuterGain!==void 0?o.coneOuterGain:0,distanceModel:o.distanceModel!==void 0?o.distanceModel:"inverse",maxDistance:o.maxDistance!==void 0?o.maxDistance:1e4,panningModel:o.panningModel!==void 0?o.panningModel:"HRTF",refDistance:o.refDistance!==void 0?o.refDistance:1,rolloffFactor:o.rolloffFactor!==void 0?o.rolloffFactor:1},a._onstereo=o.onstereo?[{fn:o.onstereo}]:[],a._onpos=o.onpos?[{fn:o.onpos}]:[],a._onorientation=o.onorientation?[{fn:o.onorientation}]:[],c.call(this,o)}),Howl.prototype.stereo=function(o,a){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"stereo",action:function(){l.stereo(o,a)}}),l;var s=Howler.ctx.createStereoPanner===void 0?"spatial":"stereo";if(a===void 0){if(typeof o!="number")return l._stereo;l._stereo=o,l._pos=[o,0,0]}for(var u=l._getSoundIds(a),p=0;p<u.length;p++){var d=l._soundById(u[p]);if(d){if(typeof o!="number")return d._stereo;d._stereo=o,d._pos=[o,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",d._panner&&d._panner.pan||t(d,s),s==="spatial"?d._panner.positionX!==void 0?(d._panner.positionX.setValueAtTime(o,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(o,0,0):d._panner.pan.setValueAtTime(o,Howler.ctx.currentTime)),l._emit("stereo",d._id)}}return l},Howl.prototype.pos=function(o,a,l,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(o,a,l,s)}}),u;if(a=typeof a!="number"?0:a,l=typeof l!="number"?-.5:l,s===void 0){if(typeof o!="number")return u._pos;u._pos=[o,a,l]}for(var p=u._getSoundIds(s),d=0;d<p.length;d++){var _=u._soundById(p[d]);if(_){if(typeof o!="number")return _._pos;_._pos=[o,a,l],_._node&&(_._panner&&!_._panner.pan||t(_,"spatial"),_._panner.positionX!==void 0?(_._panner.positionX.setValueAtTime(o,Howler.ctx.currentTime),_._panner.positionY.setValueAtTime(a,Howler.ctx.currentTime),_._panner.positionZ.setValueAtTime(l,Howler.ctx.currentTime)):_._panner.setPosition(o,a,l)),u._emit("pos",_._id)}}return u},Howl.prototype.orientation=function(o,a,l,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(o,a,l,s)}}),u;if(a=typeof a!="number"?u._orientation[1]:a,l=typeof l!="number"?u._orientation[2]:l,s===void 0){if(typeof o!="number")return u._orientation;u._orientation=[o,a,l]}for(var p=u._getSoundIds(s),d=0;d<p.length;d++){var _=u._soundById(p[d]);if(_){if(typeof o!="number")return _._orientation;_._orientation=[o,a,l],_._node&&(_._panner||(_._pos||(_._pos=u._pos||[0,0,-.5]),t(_,"spatial")),_._panner.orientationX!==void 0?(_._panner.orientationX.setValueAtTime(o,Howler.ctx.currentTime),_._panner.orientationY.setValueAtTime(a,Howler.ctx.currentTime),_._panner.orientationZ.setValueAtTime(l,Howler.ctx.currentTime)):_._panner.setOrientation(o,a,l)),u._emit("orientation",_._id)}}return u},Howl.prototype.pannerAttr=function(){var o,a,l,s=this,u=arguments;if(!s._webAudio)return s;if(u.length===0)return s._pannerAttr;if(u.length===1){if(typeof u[0]!="object")return(l=s._soundById(parseInt(u[0],10)))?l._pannerAttr:s._pannerAttr;o=u[0],a===void 0&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),s._pannerAttr={coneInnerAngle:o.pannerAttr.coneInnerAngle!==void 0?o.pannerAttr.coneInnerAngle:s._coneInnerAngle,coneOuterAngle:o.pannerAttr.coneOuterAngle!==void 0?o.pannerAttr.coneOuterAngle:s._coneOuterAngle,coneOuterGain:o.pannerAttr.coneOuterGain!==void 0?o.pannerAttr.coneOuterGain:s._coneOuterGain,distanceModel:o.pannerAttr.distanceModel!==void 0?o.pannerAttr.distanceModel:s._distanceModel,maxDistance:o.pannerAttr.maxDistance!==void 0?o.pannerAttr.maxDistance:s._maxDistance,refDistance:o.pannerAttr.refDistance!==void 0?o.pannerAttr.refDistance:s._refDistance,rolloffFactor:o.pannerAttr.rolloffFactor!==void 0?o.pannerAttr.rolloffFactor:s._rolloffFactor,panningModel:o.pannerAttr.panningModel!==void 0?o.pannerAttr.panningModel:s._panningModel})}else u.length===2&&(o=u[0],a=parseInt(u[1],10));for(var p=s._getSoundIds(a),d=0;d<p.length;d++)if(l=s._soundById(p[d])){var _=l._pannerAttr;_={coneInnerAngle:o.coneInnerAngle!==void 0?o.coneInnerAngle:_.coneInnerAngle,coneOuterAngle:o.coneOuterAngle!==void 0?o.coneOuterAngle:_.coneOuterAngle,coneOuterGain:o.coneOuterGain!==void 0?o.coneOuterGain:_.coneOuterGain,distanceModel:o.distanceModel!==void 0?o.distanceModel:_.distanceModel,maxDistance:o.maxDistance!==void 0?o.maxDistance:_.maxDistance,refDistance:o.refDistance!==void 0?o.refDistance:_.refDistance,rolloffFactor:o.rolloffFactor!==void 0?o.rolloffFactor:_.rolloffFactor,panningModel:o.panningModel!==void 0?o.panningModel:_.panningModel};var e=l._panner;e?(e.coneInnerAngle=_.coneInnerAngle,e.coneOuterAngle=_.coneOuterAngle,e.coneOuterGain=_.coneOuterGain,e.distanceModel=_.distanceModel,e.maxDistance=_.maxDistance,e.refDistance=_.refDistance,e.rolloffFactor=_.rolloffFactor,e.panningModel=_.panningModel):(l._pos||(l._pos=s._pos||[0,0,-.5]),t(l,"spatial"))}return s},Sound.prototype.init=function(o){return function(){var a=this,l=a._parent;a._orientation=l._orientation,a._stereo=l._stereo,a._pos=l._pos,a._pannerAttr=l._pannerAttr,o.call(this),a._stereo?l.stereo(a._stereo):a._pos&&l.pos(a._pos[0],a._pos[1],a._pos[2],a._id)}}(Sound.prototype.init),Sound.prototype.reset=function(o){return function(){var a=this,l=a._parent;return a._orientation=l._orientation,a._stereo=l._stereo,a._pos=l._pos,a._pannerAttr=l._pannerAttr,a._stereo?l.stereo(a._stereo):a._pos?l.pos(a._pos[0],a._pos[1],a._pos[2],a._id):a._panner&&(a._panner.disconnect(0),a._panner=void 0,l._refreshBuffer(a)),o.call(this)}}(Sound.prototype.reset);var t=function(o,a){(a=a||"spatial")==="spatial"?(o._panner=Howler.ctx.createPanner(),o._panner.coneInnerAngle=o._pannerAttr.coneInnerAngle,o._panner.coneOuterAngle=o._pannerAttr.coneOuterAngle,o._panner.coneOuterGain=o._pannerAttr.coneOuterGain,o._panner.distanceModel=o._pannerAttr.distanceModel,o._panner.maxDistance=o._pannerAttr.maxDistance,o._panner.refDistance=o._pannerAttr.refDistance,o._panner.rolloffFactor=o._pannerAttr.rolloffFactor,o._panner.panningModel=o._pannerAttr.panningModel,o._panner.positionX!==void 0?(o._panner.positionX.setValueAtTime(o._pos[0],Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(o._pos[1],Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(o._pos[2],Howler.ctx.currentTime)):o._panner.setPosition(o._pos[0],o._pos[1],o._pos[2]),o._panner.orientationX!==void 0?(o._panner.orientationX.setValueAtTime(o._orientation[0],Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(o._orientation[1],Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(o._orientation[2],Howler.ctx.currentTime)):o._panner.setOrientation(o._orientation[0],o._orientation[1],o._orientation[2])):(o._panner=Howler.ctx.createStereoPanner(),o._panner.pan.setValueAtTime(o._stereo,Howler.ctx.currentTime)),o._panner.connect(o._node),o._paused||o._parent.pause(o._id,!0).play(o._id,!0)}}();var kt=He.Howl;He.Howler;function Xe(c){let t,o,a;return o=new wt({}),o.$on("stopPlayerUpdateLoop",c[10]),o.$on("pausePlay",c[11]),o.$on("volume",c[12]),o.$on("openControls",c[13]),o.$on("close",c[5]),{c(){t=b("div"),he(o.$$.fragment),ie(t,"z-index","10"),ie(t,"position","relative")},m(l,s){k(l,t,s),ue(o,t,null),a=!0},p:L,i(l){a||(G(o.$$.fragment,l),a=!0)},o(l){z(o.$$.fragment,l),a=!1},d(l){l&&S(t),de(o)}}}function Ye(c){let t,o,a;return o=new Et({}),o.$on("close",c[7]),{c(){t=b("div"),he(o.$$.fragment),ie(t,"z-index","10"),ie(t,"position","relative")},m(l,s){k(l,t,s),ue(o,t,null),a=!0},p:L,i(l){a||(G(o.$$.fragment,l),a=!0)},o(l){z(o.$$.fragment,l),a=!1},d(l){l&&S(t),de(o)}}}function Ve(c){let t,o,a;return o=new St({}),o.$on("close",c[9]),{c(){t=b("div"),he(o.$$.fragment),ie(t,"z-index","10"),ie(t,"position","relative")},m(l,s){k(l,t,s),ue(o,t,null),a=!0},p:L,i(l){a||(G(o.$$.fragment,l),a=!0)},o(l){z(o.$$.fragment,l),a=!1},d(l){l&&S(t),de(o)}}}function Ct(c){let t,o,a,l,s,u,p,d,_,e,n,r,i,m,f,h;return{c(){t=b("div"),t.innerHTML=`<p class="healthText svelte-10crvrn" id="healthText"></p> 
      <div class="heartParent svelte-10crvrn"><div class="heartParent svelte-10crvrn"><img src="https://cdn.astraeffect.com/gameAssets/heartFull.png" alt="heart" class="heartFull heart svelte-10crvrn" id="heart1"/> 
              <img src="https://cdn.astraeffect.com/gameAssets/heartFrame.png" alt="heart" class="heartFrame heart svelte-10crvrn"/></div> 
          <div class="heartParent svelte-10crvrn"><img src="https://cdn.astraeffect.com/gameAssets/heartFull.png" alt="heart" class="heartFull heart svelte-10crvrn" id="heart2"/> 
              <img src="https://cdn.astraeffect.com/gameAssets/heartFrame.png" alt="heart" class="heartFrame heart svelte-10crvrn"/></div> 
          <div class="heartParent svelte-10crvrn"><img src="https://cdn.astraeffect.com/gameAssets/heartFull.png" alt="heart" class="heartFull heart svelte-10crvrn" id="heart3"/> 
              <img src="https://cdn.astraeffect.com/gameAssets/heartFrame.png" alt="heart" class="heartFrame heart svelte-10crvrn"/></div>  
          <div class="heartParent svelte-10crvrn"><img src="https://cdn.astraeffect.com/gameAssets/heartFull.png" alt="heart" class="heartFull heart svelte-10crvrn" id="heart4"/> 
              <img src="https://cdn.astraeffect.com/gameAssets/heartFrame.png" alt="heart" class="heartFrame heart svelte-10crvrn"/></div></div>`,o=E(),a=b("div"),a.innerHTML=`<p id="displayItem" class="hotbarText svelte-10crvrn"></p> 
    <div class="hotbar svelte-10crvrn"><div id="hotbarItem1" class="hotbarItem hotbarItemActive svelte-10crvrn" data-item="Stick"><img class="item svelte-10crvrn" id="hotbarItem1Img" alt=""/><p id="hotbarItem1Amount" class="hotbarAmount svelte-10crvrn"></p></div> 
        <div id="hotbarItem2" class="hotbarItem svelte-10crvrn" data-item="null"><img class="item svelte-10crvrn" id="hotbarItem2Img" alt=""/><p id="hotbarItem2Amount" class="hotbarAmount svelte-10crvrn"></p></div> 
        <div id="hotbarItem3" class="hotbarItem svelte-10crvrn" data-item="null"><img class="item svelte-10crvrn" id="hotbarItem3Img" alt=""/><p id="hotbarItem3Amount" class="hotbarAmount svelte-10crvrn"></p></div> 
        <div id="hotbarItem4" class="hotbarItem svelte-10crvrn" data-item="null"><img class="item svelte-10crvrn" id="hotbarItem4Img" alt=""/><p id="hotbarItem4Amount" class="hotbarAmount svelte-10crvrn"></p></div> 
        <div id="hotbarItem5" class="hotbarItem svelte-10crvrn" data-item="null"><img class="item svelte-10crvrn" id="hotbarItem5Img" alt=""/><p id="hotbarItem5Amount" class="hotbarAmount svelte-10crvrn"></p></div></div>`,l=E(),s=b("div"),u=b("button"),u.innerHTML='<span class="material-symbols-outlined svelte-10crvrn">settings</span>',p=E(),d=b("button"),d.innerHTML='<span class="material-symbols-outlined svelte-10crvrn">bug_report</span>',_=E(),e=b("div"),n=b("p"),n.textContent=`${localStorage.getItem("displayName")}`,r=E(),i=b("img"),g(t,"class","healthParent svelte-10crvrn"),g(a,"class","hotbarParent svelte-10crvrn"),g(s,"class","navbar svelte-10crvrn"),g(i,"class","playerAvatar svelte-10crvrn"),Be(i.src,m=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png`)||g(i,"src",m),g(i,"alt","avatar"),g(e,"class","player svelte-10crvrn"),g(e,"id","player")},m(A,w){k(A,t,w),k(A,o,w),k(A,a,w),k(A,l,w),k(A,s,w),y(s,u),y(s,p),y(s,d),k(A,_,w),k(A,e,w),y(e,n),y(e,r),y(e,i),f||(h=[P(u,"click",c[4]),P(d,"click",c[8])],f=!0)},p:L,i:L,o:L,d(A){A&&S(t),A&&S(o),A&&S(a),A&&S(l),A&&S(s),A&&S(_),A&&S(e),f=!1,J(h)}}}function Lt(c){let t,o;return t=new At({}),{c(){he(t.$$.fragment)},m(a,l){ue(t,a,l),o=!0},p:L,i(a){o||(G(t.$$.fragment,a),o=!0)},o(a){z(t.$$.fragment,a),o=!1},d(a){de(t,a)}}}function Mt(c){let t,o;return t=new _t({}),{c(){he(t.$$.fragment)},m(a,l){ue(t,a,l),o=!0},p:L,i(a){o||(G(t.$$.fragment,a),o=!0)},o(a){z(t.$$.fragment,a),o=!1},d(a){de(t,a)}}}function Qt(c){let t,o,a,l,s,u,p,d,_,e,n=c[1]===!0&&Xe(c),r=c[2]===!0&&Ye(c),i=c[3]===!0&&Ve(c);const m=[Mt,Lt,Ct],f=[];function h(A,w){return A[0]==="login1"?0:A[0]==="login2"?1:A[0]==="home"?2:-1}return~(d=h(c))&&(_=f[d]=m[d](c)),{c(){t=b("link"),o=E(),a=b("main"),l=b("div"),n&&n.c(),s=E(),r&&r.c(),u=E(),i&&i.c(),p=E(),_&&_.c(),g(t,"rel","stylesheet"),g(t,"href","https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0"),g(l,"class","display"),g(a,"id","main"),g(a,"class","svelte-10crvrn")},m(A,w){k(A,t,w),k(A,o,w),k(A,a,w),y(a,l),n&&n.m(l,null),y(l,s),r&&r.m(l,null),y(l,u),i&&i.m(l,null),y(l,p),~d&&f[d].m(l,null),e=!0},p(A,w){A[1]===!0?n?(n.p(A,w),w[0]&2&&G(n,1)):(n=Xe(A),n.c(),G(n,1),n.m(l,s)):n&&(ye(),z(n,1,1,()=>{n=null}),be()),A[2]===!0?r?(r.p(A,w),w[0]&4&&G(r,1)):(r=Ye(A),r.c(),G(r,1),r.m(l,u)):r&&(ye(),z(r,1,1,()=>{r=null}),be()),A[3]===!0?i?(i.p(A,w),w[0]&8&&G(i,1)):(i=Ve(A),i.c(),G(i,1),i.m(l,p)):i&&(ye(),z(i,1,1,()=>{i=null}),be());let B=d;d=h(A),d===B?~d&&f[d].p(A,w):(_&&(ye(),z(f[B],1,1,()=>{f[B]=null}),be()),~d?(_=f[d],_?_.p(A,w):(_=f[d]=m[d](A),_.c()),G(_,1),_.m(l,null)):_=null)},i(A){e||(G(n),G(r),G(i),G(_),e=!0)},o(A){z(n),z(r),z(i),z(_),e=!1},d(A){A&&S(t),A&&S(o),A&&S(a),n&&n.d(),r&&r.d(),i&&i.d(),~d&&f[d].d()}}}const Ie="1.3.2";function Qe(c){return new Promise(t=>setTimeout(t,c))}function Dt(c,t,o){let a="",l=!1,s=!1,u=!1,p,d={},_=[],e,n,r=new kt({src:["https://cdn.astraeffect.com/audio/crescentMoon.mp3"],volume:localStorage.getItem("musicVolume")||.5,loop:!0}),i=[{id:"spawnBuilding",type:"object",vert1:{x:-30,y:-30},vert2:{x:352,y:352},img:"https://cdn.astraeffect.com/objects/spawnBuilding.png",alt:"spawnBuilding",zIndex:0,coll:!0,interact:()=>{C("You cant travel dimensions yet! Err: 3")}},{id:"slime1",type:"enemy",vert1:{x:500,y:500},vert2:{x:30,y:22},img:"https://cdn.astraeffect.com/gameAssets/enemies/slime/slime.png",alt:"slime1",zIndex:6,coll:!0,health:100,maxHealth:100,attack:11,defence:5,speed:1,interact:null,onCollision:()=>{console.log(15-e.defence),e.health-=11-e.defence}},{id:"slime2",type:"enemy",vert1:{x:700,y:350},vert2:{x:60,y:44},img:"https://cdn.astraeffect.com/gameAssets/enemies/slime/slime.png",alt:"slime2",zIndex:6,coll:!0,health:100,maxHealth:100,attack:13,defence:5,speed:1,interact:null,onCollision:()=>{console.log(15-e.defence),e.health-=13-e.defence}}];const m=async()=>{let v=await IJS.Image.load("https://cdn.astraeffect.com/avatars/avatar1.png");await IJS.Image.load("https://cdn.astraeffect.com/avatars/avatar2.png");let I=await IJS.Image.load("https://cdn.astraeffect.com/objects/global.png");v.crop({x:20,y:463,width:263,height:464}),v.crop({x:302,y:463,width:263,height:464}),v.crop({x:584,y:463,width:263,height:464}),v.crop({x:866,y:463,width:263,height:464}),v.crop({x:1148,y:463,width:263,height:464}),v.crop({x:1430,y:463,width:263,height:464}),v.crop({x:20,y:1915,width:323,height:404}),v.crop({x:363,y:1895,width:404,height:525}),v.crop({x:786,y:1915,width:384,height:424}),v.crop({x:1190,y:1935,width:262,height:384});let T=I.crop({x:3,y:5,width:11,height:10});for(let V=0;V<40;V++)i.push({id:"leaf"+V,type:"tileItem",vert1:{x:Math.floor(Math.random()*1e3),y:Math.floor(Math.random()*1e3)},vert2:{x:11,y:10},img:T.toDataURL(),alt:"leaf"+V,zIndex:0,coll:!1,interact:()=>{document.getElementById("leaf"+V).remove(),i.splice(i.findIndex(fe=>fe.id==="leaf"+V),1),document.querySelector('[data-item="Leaf"]')!==null?document.querySelector('[data-item="Leaf"] > p').innerHTML=String((parseInt(document.querySelector('[data-item="Leaf"] > p').innerHTML)||0)+1):(document.querySelectorAll('[data-item="null"] > img')[0].src="https://cdn.astraeffect.com/gameAssets/items/leaf.png",document.querySelectorAll('[data-item="null"] > img')[0].alt="leaf",document.querySelectorAll('[data-item="null"] > p')[0].innerHTML="1",document.querySelectorAll('[data-item="null"]')[0].setAttribute("data-item","Leaf"))},onCollision:null})},f=()=>{console.log("Launching Settings"),o(1,l=!0)},h=()=>{console.log("Closing Settings"),o(1,l=!1)},A=()=>{console.log("Launching Controls"),o(2,s=!0)},w=()=>{console.log("Closing Controls"),o(2,s=!1)},B=()=>{Swal.fire({title:"Are you sure?",text:"Opening the debug menu will force stop the player update loop and restart it without a reload, this can cause issues with the game.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Continue"}).then(v=>{v.isConfirmed?(console.log("Launching Debug"),o(3,u=!0),re()):Swal.fire("Cancelled","Debug menu not opened.","error")})},D=()=>{console.log("Closing Debug"),o(3,u=!1),console.log("Building updated player object"),Z(),W()},C=v=>{console.log(`Displaying error: ${v}`),Swal.fire({icon:"error",title:"Something went wrong!",text:v})},H=v=>{console.log(`Building object from: ${JSON.stringify(v)}`),v.element=document.createElement("div"),v.element.classList.add("object"),v.element.id=v.id,v.element.style.left=v.vert1.x+"px",v.element.style.top=v.vert1.y+"px",v.element.style.width=v.vert2.x+"px",v.element.style.height=v.vert2.y+"px",v.element.style.backgroundImage=`url(${v.img})`,v.element.style.zIndex=v.zIndex,v.element.style.pointerEvents="none",document.querySelector(".display").appendChild(v.element)},M=v=>{console.log(`Building player from: ${v}`);let I={x:v[2]||0,y:v[3]||0,speed:1e3/60,generatedId:v[0],displayName:v[1]};_[I.generatedId]=I,I.element=document.createElement("div"),I.element.classList.add("player"),I.element.id=I.generatedId,I.element.style.top=I.y+"px",I.element.style.left=I.x+"px",I.element.style.pointerEvents="none",I.element.innerHTML=`
  <p>${I.displayName}</p>
  <img class="playerAvatar" src="https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png" alt="Avatar">
  `,document.querySelector(".display").appendChild(I.element)},x=(v,I)=>v.x-25<I.vert1.x+I.vert2.x&&v.x-25+50>I.vert1.x&&v.y-35<I.vert1.y+I.vert2.y&&v.y-35+70>I.vert1.y,U=(v,I)=>v.x-55<I.vert1.x+I.vert2.x&&v.x-55+110>I.vert1.x&&v.y-65<I.vert1.y+I.vert2.y&&v.y-65+130>I.vert1.y,R=async()=>{if(d.Escape){f();return}if(e.health<=0){e.health=0,Swal.fire({icon:"error",title:"You died!",text:"You have died, please respawn to continue playing!"}),re();return}e.health>100&&(e.health=100);let v=i.filter(T=>T.interact!==null);for(let T=0;T<v.length;T++)U(e,v[T])?(document.getElementById(v[T].id).style.outline="3px dashed #ffcb1699",d.e&&(console.log(`Player is interacting with ${v[T].id}`),v[T].interact())):document.getElementById(v[T].id).style.outline="none";let I=i.filter(T=>T.coll===!0);for(let T=0;T<I.length;T++)x(e,I[T])&&(e.x<I[T].vert1.x?e.x=e.x-10:e.x>I[T].vert1.x&&(e.x=e.x+10),e.y<I[T].vert1.y?e.y=e.y-10:e.y>I[T].vert1.y&&(e.y=e.y+10),(I[T].type==="enemy"||I[T].type==="tileItem")&&I[T].onCollision());d.w&&(e.y-=10,document.getElementsByClassName("playerAvatar")[0].src=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png`,e.y<0&&(e.y=0)),d.s&&(e.y+=10,document.getElementsByClassName("playerAvatar")[0].src=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png`,e.y>window.innerHeight&&(e.y=window.innerHeight)),d.a&&(e.x-=10,document.getElementsByClassName("playerAvatar")[0].src=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/right.png`,document.getElementsByClassName("playerAvatar")[0].style.transform="scaleX(-1)",e.x<0&&(e.x=0)),d.d&&(document.getElementsByClassName("playerAvatar")[0].src=`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/right.png`,document.getElementsByClassName("playerAvatar")[0].style.transform="scaleX(1)",e.x+=10,e.x>window.innerWidth&&(e.x=window.innerWidth)),(d.w||d.s||d.a||d.d)&&(e.element.style.top=e.y+"px",e.element.style.left=e.x+"px",localStorage.setItem("x",String(e.x)),localStorage.setItem("y",String(e.y)),$("position",[e.x,e.y])),d[1]&&(document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem1").classList.add("hotbarItemActive")),d[2]&&(document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem2").classList.add("hotbarItemActive")),d[3]&&(document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem3").classList.add("hotbarItemActive")),d[4]&&(document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem4").classList.add("hotbarItemActive")),d[5]&&(document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),document.getElementById("hotbarItem5").classList.add("hotbarItemActive")),d.lmb,d.rmb,d.mmb;for(let T=1;T<document.querySelectorAll(".hotbarItem").length+1;T++)document.getElementById(`hotbarItem${T}Img`).src="https://cdn.astraeffect.com/items/"+document.getElementById(`hotbarItem${T}`).dataset.item.toLowerCase()+".png",document.getElementById(`hotbarItem${T}Img`).alt=document.getElementById(`hotbarItem${T}`).dataset.item;document.getElementsByClassName("hotbarItemActive")[0].dataset.item!=="null"?document.getElementById("displayItem").innerText=document.getElementsByClassName("hotbarItemActive")[0].dataset.item:document.getElementById("displayItem").innerText="",e.health>75?(document.getElementById("heart1").style.display="block",document.getElementById("heart2").style.display="block",document.getElementById("heart3").style.display="block",document.getElementById("heart4").style.display="block",document.getElementById("heart4").style.opacity=String((e.health-75)/25)):e.health>50?(document.getElementById("heart1").style.display="block",document.getElementById("heart2").style.display="block",document.getElementById("heart3").style.display="block",document.getElementById("heart4").style.display="none",document.getElementById("heart3").style.opacity=String((e.health-50)/25)):e.health>25?(document.getElementById("heart1").style.display="block",document.getElementById("heart2").style.display="block",document.getElementById("heart3").style.display="none",document.getElementById("heart4").style.display="none",document.getElementById("heart2").style.opacity=String((e.health-25)/25)):e.health>0?(document.getElementById("heart1").style.display="block",document.getElementById("heart2").style.display="none",document.getElementById("heart3").style.display="none",document.getElementById("heart4").style.display="none",document.getElementById("heart1").style.opacity=String(e.health/25)):(document.getElementById("heart1").style.display="none",document.getElementById("heart2").style.display="none",document.getElementById("heart3").style.display="none",document.getElementById("heart4").style.display="none"),document.getElementById("healthText").innerHTML=`Health: ${e.health}/${e.maxHealth}`,localStorage.setItem("health",e.health),localStorage.setItem("attack",e.attack),localStorage.setItem("defence",e.defence),localStorage.setItem("level",e.level),localStorage.setItem("exp",e.exp),localStorage.setItem("maxExp",e.maxExp),localStorage.setItem("gold",e.gold),localStorage.setItem("inventory",e.inventory.join(", ")),localStorage.setItem("equipped",JSON.stringify(e.equipped))},O=()=>{const v=document.createElement("div");v.id="serverError",v.classList.add("serverError"),v.innerHTML="Disconnected from server ðŸ˜¢",document.getElementById("main").appendChild(v)},Q=()=>{O(),p=io("ws://mc.astraeffect.com:3000"),p.on("connect",async()=>{console.log("Connected to server"),console.log(`Sending identity (${[localStorage.getItem("generatedId"),localStorage.getItem("displayName")]}, ${Ie})`),p.emit("identity",[e.generatedId,e.displayName,e.x,e.y,Ie]);let v=document.getElementById("serverError");v.innerHTML="Connected to server ðŸ˜„",v.style.backgroundColor="#00ff0088",await Qe(1500),v.remove()}),p.on("message",v=>{console.log(`Message from server: ${v}`)}),p.on("error",v=>{console.log("Error from server"),C(v)}),p.on("disconnect",()=>{console.log("Disconnected from server"),O()}),p.on("playerConnect",v=>{console.log(`Player connected ${v}`),M(v)}),p.on("playerDisconnect",async v=>{console.log(`Player disconnected ${v}`),await Qe(1),document.getElementById(v).remove()}),p.on("currentPlayers",v=>{v=new Map(JSON.parse(v)),v.forEach((I,T)=>{M(I)})}),p.on("position",v=>{let[I,T,V]=v;_[I].element.style.top=V+"px",_[I].element.style.left=T+"px"})},$=(v,I)=>{v!=="position"&&console.log(`Sending ${v} with data ${I}`),p.emit(v,I)},W=()=>{console.log("Starting player update loop"),n=setInterval(R,e.speed)},re=()=>{console.log("Stopping player update loop"),clearInterval(n)},ae=async v=>{let I=document.getElementsByClassName("hotbarItemActive")[0];v<0?I.nextElementSibling!=null?(I.nextElementSibling.classList.add("hotbarItemActive"),I.classList.remove("hotbarItemActive"),I.nextElementSibling.classList.add("hotbarItemActive")):(I.classList.remove("hotbarItemActive"),document.getElementById("hotbarItem1").classList.add("hotbarItemActive")):I.previousElementSibling!=null?(I.classList.remove("hotbarItemActive"),I.previousElementSibling.classList.add("hotbarItemActive")):(I.classList.remove("hotbarItemActive"),document.getElementById("hotbarItem5").classList.add("hotbarItemActive"))},Z=()=>{e={x:parseInt(localStorage.getItem("x"))||140,y:parseInt(localStorage.getItem("y"))||350,speed:1e3/60,avatar:localStorage.getItem("avatar"),avatarImage:`https://cdn.astraeffect.com/avatars/${localStorage.getItem("avatar")}/forwards.png`,element:document.getElementById("player"),displayName:localStorage.getItem("displayName"),generatedId:localStorage.getItem("generatedId"),health:parseInt(localStorage.getItem("health"))||100,maxHealth:parseInt(localStorage.getItem("maxHealth"))||100,attack:parseInt(localStorage.getItem("attack"))||10,defence:parseInt(localStorage.getItem("defence"))||10,level:parseInt(localStorage.getItem("level"))||1,exp:parseInt(localStorage.getItem("exp"))||0,gold:parseInt(localStorage.getItem("gold"))||0,inventory:localStorage.getItem("inventory").split(", ")||null,equipped:{weapon:JSON.stringify(localStorage.getItem("equipped").weapon),armour:JSON.stringify(localStorage.getItem("equipped").armour),accessory:JSON.stringify(localStorage.getItem("equipped").accessory)}},e.maxExp=100*e.level};return document.body.onload=async()=>{if(console.log("Loading avatar assets"),await m(),localStorage.getItem("generatedId")===null)return o(0,a="login1");if(console.log("found id"),localStorage.getItem("avatar")===null)return o(0,a="login2");console.log("found avatar"),Z(),o(0,a="home"),console.log("Checking for updates..."),fetch("https://api.github.com/repos/ahhhsaturn/shlay-desktop/releases/latest").then(v=>v.json()).then(v=>{v.tag_name!==Ie&&C("You are not on the latest version! Latest version: "+v.tag_name+" Your version: "+Ie+".")}).catch(v=>{console.error("Error:",v)}),await Qe(1),e.element=document.getElementById("player"),e.element.style.top=e.y+"px",e.element.style.left=e.x+"px",e.element.style.pointerEvents="none",document.getElementById("healthText").innerHTML=`Health: ${e.health}/${e.maxHealth}`,document.getElementById("displayItem").innerHTML=document.getElementsByClassName("hotbarItemActive")[0].dataset.item,Q(),localStorage.getItem("musicStatus")=="playing"?r.play():r.pause(),console.log("Building objects");for(let v=0;v<i.length;v++)H(i[v]);console.log("Building objects complete"),document.addEventListener("wheel",v=>{v.preventDefault();let I=0;a==="home"&&l!==!0&&(v.wheelDelta?I=v.wheelDelta/120:v.detail&&(I=-v.detail/3),I&&ae(I))}),document.addEventListener("click",v=>{v.target.classList.contains("hotbarItem")&&(document.getElementsByClassName("hotbarItemActive")[0].classList.remove("hotbarItemActive"),v.target.classList.add("hotbarItemActive"),document.getElementById("displayItem").innerHTML=document.getElementsByClassName("hotbarItemActive")[0].dataset.item)}),document.oncontextmenu=()=>!1,document.addEventListener("mousedown",v=>{v.clientX,v.clientY,a==="home"&&l!==!0&&(v.button===0?d.lmb=!0:v.button===2?d.rmb=!0:v.button===1&&(v.preventDefault(),d.mmb=!0))}),document.addEventListener("mouseup",v=>{v.clientX,v.clientY,a==="home"&&l!==!0&&(v.button===0?delete d.lmb:v.button===2?delete d.rmb:v.button===1&&(v.preventDefault(),delete d.mmb))}),document.addEventListener("keydown",async v=>{if(a==="home"){if(v.key==="Escape"&&l===!0)return h();if(l!==!0&&(d[v.key]=!0,v.key===" "))switch(document.getElementsByClassName("hotbarItemActive")[0].dataset.item){case"Stick":console.log("Stab with stick");break;case"Leaf":if(document.querySelector('[data-item="Leaf"] > p').innerText<="1"&&(document.querySelector('[data-item="Leaf"] > p').innerText="",document.querySelectorAll('[data-item="Leaf"] > p')[0].innerHTML<="1"&&(document.querySelectorAll('[data-item="Leaf"] > img')[0].src="",document.querySelectorAll('[data-item="Leaf"] > img')[0].alt="",document.querySelectorAll('[data-item="Leaf"] > p')[0].innerHTML="",document.querySelectorAll('[data-item="Leaf"]')[0].setAttribute("data-item","null"))),e.health>=100)break;console.log("Consume leaf"),e.health+=5,document.querySelector('[data-item="Leaf"] > p').innerText=String(Number(document.querySelector('[data-item="Leaf"] > p').innerText)-1);break}}}),document.addEventListener("keyup",v=>{delete d[v.key]}),W()},[a,l,s,u,f,h,A,w,B,D,re,v=>{if(v.detail.status==="play"){r.play();return}else if(v.detail.status==="pause"){r.pause();return}},v=>{r.volume(v.detail.volume)},()=>{A(),h()}]}class $t extends pe{constructor(t){super(),me(this,t,Dt,Qt,ce,{},null,[-1,-1])}}new $t({target:document.getElementById("app")});
